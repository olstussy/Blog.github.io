<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Numpy笔记 | Olstussy</title><meta name="author" content="Olstussy"><meta name="copyright" content="Olstussy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="基础知识NumPy的主要对象是同构多维数组。它是一个元素表（通常是数字），所有类型都相同，由非负整数元组索引。在NumPy维度中称为 轴 。 例如，3D空间中的点的坐标[1, 2, 1]具有一个轴。该轴有3个元素，所以我们说它的长度为3.在下图所示的例子中，数组有2个轴。第一轴的长度为2，第二轴的长度为3。 12[[ 1., 0., 0.], [ 0., 1., 2.]]  NumPy的数组类">
<meta property="og:type" content="article">
<meta property="og:title" content="Numpy笔记">
<meta property="og:url" content="https://olstussy.top/2023/08/02/numpy%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Olstussy">
<meta property="og:description" content="基础知识NumPy的主要对象是同构多维数组。它是一个元素表（通常是数字），所有类型都相同，由非负整数元组索引。在NumPy维度中称为 轴 。 例如，3D空间中的点的坐标[1, 2, 1]具有一个轴。该轴有3个元素，所以我们说它的长度为3.在下图所示的例子中，数组有2个轴。第一轴的长度为2，第二轴的长度为3。 12[[ 1., 0., 0.], [ 0., 1., 2.]]  NumPy的数组类">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg">
<meta property="article:published_time" content="2023-08-02T04:40:21.000Z">
<meta property="article:modified_time" content="2023-08-03T15:49:18.578Z">
<meta property="article:author" content="Olstussy">
<meta property="article:tag" content="机器学习">
<meta property="article:tag" content="深度学习">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Numpy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg"><link rel="shortcut icon" href="/img/favicon-32x32-next.png"><link rel="canonical" href="https://olstussy.top/2023/08/02/numpy%E7%AC%94%E8%AE%B0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Numpy笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-03 23:49:18'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2023/08/02/n2kWORi8zyCmNXH.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Olstussy"><span class="site-name">Olstussy</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Numpy笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-02T04:40:21.000Z" title="发表于 2023-08-02 12:40:21">2023-08-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-03T15:49:18.578Z" title="更新于 2023-08-03 23:49:18">2023-08-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Numpy笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer">

<h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p>NumPy的主要对象是同构多维数组。它是一个元素表（通常是数字），所有类型都相同，由非负整数元组索引。在NumPy维度中称为 <em>轴</em> 。</p>
<p>例如，3D空间中的点的坐标<code>[1, 2, 1]</code>具有一个轴。该轴有3个元素，所以我们说它的长度为3.在下图所示的例子中，数组有2个轴。第一轴的长度为2，第二轴的长度为3。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[ <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line"> [ <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">2.</span>]]</span><br></pre></td></tr></table></figure>

<p>NumPy的数组类被调用<code>ndarray</code>。它也被别名所知 <code>array</code>。请注意，<code>numpy.array</code>这与标准Python库类不同<code>array.array</code>，后者只处理一维数组并提供较少的功能。<code>ndarray</code>对象更重要的属性是：</p>
<ul>
<li><strong>ndarray.ndim</strong> - 数组的轴（维度）的个数。在Python世界中，维度的数量被称为rank。</li>
<li><strong>ndarray.shape</strong> - 数组的维度。这是一个整数的元组，表示每个维度中数组的大小。对于有 <em>n</em> 行和 <em>m</em> 列的矩阵，<code>shape</code> 将是 <code>(n,m)</code>。因此，<code>shape</code> 元组的长度就是rank或维度的个数 <code>ndim</code>。</li>
<li><strong>ndarray.size</strong> - 数组元素的总数。这等于 <code>shape</code> 的元素的乘积。</li>
<li><strong>ndarray.dtype</strong> - 一个描述数组中元素类型的对象。可以使用标准的Python类型创建或指定dtype。另外NumPy提供它自己的类型。例如numpy.int32、numpy.int16和numpy.float64。</li>
<li><strong>ndarray.itemsize</strong> - 数组中每个元素的字节大小。例如，元素为 <code>float64</code> 类型的数组的 <code>itemsize</code> 为8（&#x3D;64&#x2F;8），而 <code>complex32</code> 类型的数组的 <code>itemsize</code> 为4（&#x3D;32&#x2F;8）。它等于 <code>ndarray.dtype.itemsize</code> 。</li>
<li><strong>ndarray.data</strong> - 该缓冲区包含数组的实际元素。通常，我们不需要使用此属性，因为我们将使用索引访问数组中的元素。</li>
</ul>
<h3 id="一个例子"><a href="#一个例子" class="headerlink" title="#一个例子"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90">#</a>一个例子</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">15</span>).reshape(<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],</span><br><span class="line">       [ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.ndim</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.dtype.name</span><br><span class="line"><span class="string">&#x27;int64&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.itemsize</span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.size</span><br><span class="line"><span class="number">15</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(a)</span><br><span class="line">&lt;<span class="built_in">type</span> <span class="string">&#x27;numpy.ndarray&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(b)</span><br><span class="line">&lt;<span class="built_in">type</span> <span class="string">&#x27;numpy.ndarray&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="数组创建"><a href="#数组创建" class="headerlink" title="#数组创建"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E6%95%B0%E7%BB%84%E5%88%9B%E5%BB%BA">#</a>数组创建</h3><p>有几种方法可以创建数组。</p>
<p>例如，你可以使用array函数从常规Python列表或元组中创建数组。得到的数组的类型是从Python列表中元素的类型推导出来的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.dtype</span><br><span class="line">dtype(<span class="string">&#x27;int64&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">1.2</span>, <span class="number">3.5</span>, <span class="number">5.1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.dtype</span><br><span class="line">dtype(<span class="string">&#x27;float64&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>一个常见的错误，就是调用<code>array</code>的时候传入多个数字参数，而不是提供单个数字的列表类型作为参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)    <span class="comment"># WRONG</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])  <span class="comment"># RIGHT</span></span><br></pre></td></tr></table></figure>

<p><code>array</code> 还可以将序列的序列转换成二维数组，将序列的序列的序列转换成三维数组，等等。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([(<span class="number">1.5</span>,<span class="number">2</span>,<span class="number">3</span>), (<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[ <span class="number">1.5</span>,  <span class="number">2.</span> ,  <span class="number">3.</span> ],</span><br><span class="line">       [ <span class="number">4.</span> ,  <span class="number">5.</span> ,  <span class="number">6.</span> ]]) //.之后不加东西，节省空间，代表浮点数<span class="number">4.0</span> <span class="number">5.0</span>等等</span><br></pre></td></tr></table></figure>

<p>也可以在创建时显式指定数组的类型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = np.array( [ [<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>] ], dtype=<span class="built_in">complex</span> )</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">array([[ <span class="number">1.</span>+<span class="number">0.j</span>,  <span class="number">2.</span>+<span class="number">0.j</span>],</span><br><span class="line">       [ <span class="number">3.</span>+<span class="number">0.j</span>,  <span class="number">4.</span>+<span class="number">0.j</span>]])</span><br></pre></td></tr></table></figure>

<p>通常，数组的元素最初是未知的，但它的大小是已知的。因此，NumPy提供了几个函数来创建具有初始占位符内容的数组。这就减少了数组增长的必要，因为数组增长的操作花费很大。</p>
<p>函数<code>zeros</code>创建一个由0组成的数组，函数 <code>ones</code>创建一个完整的数组，函数<code>empty</code> 创建一个数组，其初始内容是随机的，取决于内存的状态。默认情况下，创建的数组的dtype是 <code>float64</code> 类型的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.zeros( (<span class="number">3</span>,<span class="number">4</span>) )</span><br><span class="line">array([[ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.ones( (<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>), dtype=np.int16 )                <span class="comment"># dtype can also be specified</span></span><br><span class="line">array([[[ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]],</span><br><span class="line">       [[ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [ <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]]], dtype=int16)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.empty( (<span class="number">2</span>,<span class="number">3</span>) )                                 <span class="comment"># uninitialized, output may vary</span></span><br><span class="line">array([[  <span class="number">3.73603959e-262</span>,   <span class="number">6.02658058e-154</span>,   <span class="number">6.55490914e-260</span>],</span><br><span class="line">       [  <span class="number">5.30498948e-313</span>,   <span class="number">3.14673309e-307</span>,   <span class="number">1.00000000e+000</span>]])</span><br></pre></td></tr></table></figure>

<p>为了创建数字组成的数组，NumPy提供了一个类似于<code>range</code>的函数，该函数返回数组而不是列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange( <span class="number">10</span>, <span class="number">30</span>, <span class="number">5</span> )</span><br><span class="line">array([<span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange( <span class="number">0</span>, <span class="number">2</span>, <span class="number">0.3</span> )                 <span class="comment"># it accepts float arguments</span></span><br><span class="line">array([ <span class="number">0.</span> ,  <span class="number">0.3</span>,  <span class="number">0.6</span>,  <span class="number">0.9</span>,  <span class="number">1.2</span>,  <span class="number">1.5</span>,  <span class="number">1.8</span>])</span><br></pre></td></tr></table></figure>

<p>当<code>arange</code>与浮点参数一起使用时，由于有限的浮点精度，通常不可能预测所获得的元素的数量。出于这个原因，通常最好使用<code>linspace</code>函数来接收我们想要的元素数量的函数，而不是步长（step）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> numpy <span class="keyword">import</span> pi</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linspace( <span class="number">0</span>, <span class="number">2</span>, <span class="number">9</span> )                 <span class="comment"># 9 numbers from 0 to 2</span></span><br><span class="line">array([ <span class="number">0.</span>  ,  <span class="number">0.25</span>,  <span class="number">0.5</span> ,  <span class="number">0.75</span>,  <span class="number">1.</span>  ,  <span class="number">1.25</span>,  <span class="number">1.5</span> ,  <span class="number">1.75</span>,  <span class="number">2.</span>  ])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.linspace( <span class="number">0</span>, <span class="number">2</span>*pi, <span class="number">100</span> )        <span class="comment"># useful to evaluate function at lots of points</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = np.sin(x)</span><br></pre></td></tr></table></figure>

<p>另见这些API</p>
<p><a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array"><code>array</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.zeros.html#numpy.zeros"><code>zeros</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.zeros_like.html#numpy.zeros_like"><code>zeros_like</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ones.html#numpy.ones"><code>ones</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ones_like.html#numpy.ones_like"><code>ones_like</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.empty.html#numpy.empty"><code>empty</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.empty_like.html#numpy.empty_like"><code>empty_like</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.arange.html#numpy.arange"><code>arange</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.linspace.html#numpy.linspace"><code>linspace</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/random/generated/numpy.random.mtrand.RandomState.rand.html#numpy.random.mtrand.RandomState.rand"><code>numpy.random.mtrand.RandomState.rand</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/random/generated/numpy.random.mtrand.RandomState.randn.html#numpy.random.mtrand.RandomState.randn"><code>numpy.random.mtrand.RandomState.randn</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.fromfunction.html#numpy.fromfunction"><code>fromfunction</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.fromfile.html#numpy.fromfile"><code>fromfile</code>open in new window</a></p>
<h3 id="打印数组"><a href="#打印数组" class="headerlink" title="#打印数组"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E6%89%93%E5%8D%B0%E6%95%B0%E7%BB%84">#</a>打印数组</h3><p>当您打印数组时，NumPy以与嵌套列表类似的方式显示它，但具有以下布局：</p>
<ul>
<li>最后一个轴从左到右打印，</li>
<li>倒数第二个从上到下打印，</li>
<li>其余部分也从上到下打印，每个切片用空行分隔。</li>
</ul>
<p>然后将一维数组打印为行，将二维数据打印为矩阵，将三维数据打印为矩数组表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">6</span>)                         <span class="comment"># 1d array</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.arange(<span class="number">12</span>).reshape(<span class="number">4</span>,<span class="number">3</span>)           <span class="comment"># 2d array</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(b)</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = np.arange(<span class="number">24</span>).reshape(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)         <span class="comment"># 3d array</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(c)</span><br><span class="line">[[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line">  [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line">  [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"> [[<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]</span><br><span class="line">  [<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line">  [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]]]</span><br></pre></td></tr></table></figure>

<p>有关 <code>reshape</code> 的详情，请参阅下文。</p>
<p>如果数组太大而无法打印，NumPy会自动跳过数组的中心部分并仅打印角点：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(np.arange(<span class="number">10000</span>))</span><br><span class="line">[   <span class="number">0</span>    <span class="number">1</span>    <span class="number">2</span> ..., <span class="number">9997</span> <span class="number">9998</span> <span class="number">9999</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(np.arange(<span class="number">10000</span>).reshape(<span class="number">100</span>,<span class="number">100</span>))</span><br><span class="line">[[   <span class="number">0</span>    <span class="number">1</span>    <span class="number">2</span> ...,   <span class="number">97</span>   <span class="number">98</span>   <span class="number">99</span>]</span><br><span class="line"> [ <span class="number">100</span>  <span class="number">101</span>  <span class="number">102</span> ...,  <span class="number">197</span>  <span class="number">198</span>  <span class="number">199</span>]</span><br><span class="line"> [ <span class="number">200</span>  <span class="number">201</span>  <span class="number">202</span> ...,  <span class="number">297</span>  <span class="number">298</span>  <span class="number">299</span>]</span><br><span class="line"> ...,</span><br><span class="line"> [<span class="number">9700</span> <span class="number">9701</span> <span class="number">9702</span> ..., <span class="number">9797</span> <span class="number">9798</span> <span class="number">9799</span>]</span><br><span class="line"> [<span class="number">9800</span> <span class="number">9801</span> <span class="number">9802</span> ..., <span class="number">9897</span> <span class="number">9898</span> <span class="number">9899</span>]</span><br><span class="line"> [<span class="number">9900</span> <span class="number">9901</span> <span class="number">9902</span> ..., <span class="number">9997</span> <span class="number">9998</span> <span class="number">9999</span>]]</span><br></pre></td></tr></table></figure>

<p>要禁用此行为并强制NumPy打印整个数组，可以使用更改打印选项<code>set_printoptions</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.set_printoptions(threshold=sys.maxsize)       <span class="comment"># sys module should be imported</span></span><br></pre></td></tr></table></figure>

<h3 id="基本操作"><a href="#基本操作" class="headerlink" title="#基本操作"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C">#</a>基本操作</h3><p>数组上的算术运算符会应用到 <em>元素</em> 级别。下面是创建一个新数组并填充结果的示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array( [<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>] )</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.arange( <span class="number">4</span> )</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = a-b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">array([<span class="number">20</span>, <span class="number">29</span>, <span class="number">38</span>, <span class="number">47</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b**<span class="number">2</span></span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span>*np.sin(a)</span><br><span class="line">array([ <span class="number">9.12945251</span>, -<span class="number">9.88031624</span>,  <span class="number">7.4511316</span> , -<span class="number">2.62374854</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a&lt;<span class="number">35</span></span><br><span class="line">array([ <span class="literal">True</span>, <span class="literal">True</span>, <span class="literal">False</span>, <span class="literal">False</span>])</span><br></pre></td></tr></table></figure>

<p>与许多矩阵语言不同，乘积运算符<code>*</code>在NumPy数组中按元素进行运算。矩阵乘积可以使用<code>@</code>运算符（在python&gt; &#x3D; 3.5中）或<code>dot</code>函数或方法执行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>A = np.array( [[<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line"><span class="meta">... </span>            [<span class="number">0</span>,<span class="number">1</span>]] )</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>B = np.array( [[<span class="number">2</span>,<span class="number">0</span>],</span><br><span class="line"><span class="meta">... </span>            [<span class="number">3</span>,<span class="number">4</span>]] )</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>A * B                       <span class="comment"># elementwise product</span></span><br><span class="line">array([[<span class="number">2</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">4</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>A @ B                       <span class="comment"># matrix product</span></span><br><span class="line">array([[<span class="number">5</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>A.dot(B)                    <span class="comment"># another matrix product</span></span><br><span class="line">array([[<span class="number">5</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>]])</span><br></pre></td></tr></table></figure>

<p>某些操作（例如<code>+=</code>和 <code>*=</code>）会更直接更改被操作的矩阵数组而不会创建新矩阵数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.ones((<span class="number">2</span>,<span class="number">3</span>), dtype=<span class="built_in">int</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.random.random((<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a *= <span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b += a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[ <span class="number">3.417022</span>  ,  <span class="number">3.72032449</span>,  <span class="number">3.00011437</span>],</span><br><span class="line">       [ <span class="number">3.30233257</span>,  <span class="number">3.14675589</span>,  <span class="number">3.09233859</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a += b                  <span class="comment"># b is not automatically converted to integer type</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  ...</span><br><span class="line">TypeError: Cannot cast ufunc add output <span class="keyword">from</span> dtype(<span class="string">&#x27;float64&#x27;</span>) to dtype(<span class="string">&#x27;int64&#x27;</span>) <span class="keyword">with</span> casting rule <span class="string">&#x27;same_kind&#x27;</span></span><br></pre></td></tr></table></figure>

<p>当使用不同类型的数组进行操作时，结果数组的类型对应于更一般或更精确的数组（称为向上转换的行为）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.ones(<span class="number">3</span>, dtype=np.int32)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.linspace(<span class="number">0</span>,pi,<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.dtype.name</span><br><span class="line"><span class="string">&#x27;float64&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = a+b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">array([ <span class="number">1.</span>        ,  <span class="number">2.57079633</span>,  <span class="number">4.14159265</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.dtype.name</span><br><span class="line"><span class="string">&#x27;float64&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = np.exp(c*<span class="number">1j</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">array([ <span class="number">0.54030231</span>+<span class="number">0.84147098j</span>, -<span class="number">0.84147098</span>+<span class="number">0.54030231j</span>,</span><br><span class="line">       -<span class="number">0.54030231</span>-<span class="number">0.84147098j</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.dtype.name</span><br><span class="line"><span class="string">&#x27;complex128&#x27;</span></span><br></pre></td></tr></table></figure>

<p>许多一元操作，例如计算数组中所有元素的总和，都是作为<code>ndarray</code>类的方法实现的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.random.random((<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">0.18626021</span>,  <span class="number">0.34556073</span>,  <span class="number">0.39676747</span>],</span><br><span class="line">       [ <span class="number">0.53881673</span>,  <span class="number">0.41919451</span>,  <span class="number">0.6852195</span> ]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.<span class="built_in">sum</span>()</span><br><span class="line"><span class="number">2.5718191614547998</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.<span class="built_in">min</span>()</span><br><span class="line"><span class="number">0.1862602113776709</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.<span class="built_in">max</span>()</span><br><span class="line"><span class="number">0.6852195003967595</span></span><br></pre></td></tr></table></figure>

<p>默认情况下，这些操作适用于数组，就像它是一个数字列表一样，无论其形状如何。但是，通过指定<code>axis</code> 参数，您可以沿数组的指定轴应用操作：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.<span class="built_in">sum</span>(axis=<span class="number">0</span>)                            <span class="comment"># sum of each column</span></span><br><span class="line">array([<span class="number">12</span>, <span class="number">15</span>, <span class="number">18</span>, <span class="number">21</span>])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.<span class="built_in">min</span>(axis=<span class="number">1</span>)                            <span class="comment"># min of each row</span></span><br><span class="line">array([<span class="number">0</span>, <span class="number">4</span>, <span class="number">8</span>])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.cumsum(axis=<span class="number">1</span>)                         <span class="comment"># cumulative sum along each row</span></span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">3</span>,  <span class="number">6</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">9</span>, <span class="number">15</span>, <span class="number">22</span>],</span><br><span class="line">       [ <span class="number">8</span>, <span class="number">17</span>, <span class="number">27</span>, <span class="number">38</span>]])</span><br></pre></td></tr></table></figure>

<h3 id="通函数"><a href="#通函数" class="headerlink" title="#通函数"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E9%80%9A%E5%87%BD%E6%95%B0">#</a>通函数</h3><p>NumPy提供熟悉的数学函数，例如sin，cos和exp。在NumPy中，这些被称为“通函数”（<code>ufunc</code>）。在NumPy中，这些函数在数组上按元素进行运算，产生一个数组作为输出。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>B = np.arange(<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>B</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.exp(B)</span><br><span class="line">array([ <span class="number">1.</span>        ,  <span class="number">2.71828183</span>,  <span class="number">7.3890561</span> ])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.sqrt(B)</span><br><span class="line">array([ <span class="number">0.</span>        ,  <span class="number">1.</span>        ,  <span class="number">1.41421356</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>C = np.array([<span class="number">2.</span>, -<span class="number">1.</span>, <span class="number">4.</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.add(B, C)</span><br><span class="line">array([ <span class="number">2.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>])</span><br></pre></td></tr></table></figure>

<p>另见这些通函数</p>
<p><a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.all.html#numpy.all"><code>all</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.any.html#numpy.any"><code>any</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.apply_along_axis.html#numpy.apply_along_axis"><code>apply_along_axis</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.argmax.html#numpy.argmax"><code>argmax</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.argmin.html#numpy.argmin"><code>argmin</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.argsort.html#numpy.argsort"><code>argsort</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.average.html#numpy.average"><code>average</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.bincount.html#numpy.bincount"><code>bincount</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ceil.html#numpy.ceil"><code>ceil</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.clip.html#numpy.clip"><code>clip</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.conj.html#numpy.conj"><code>conj</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.corrcoef.html#numpy.corrcoef"><code>corrcoef</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.cov.html#numpy.cov"><code>cov</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.cross.html#numpy.cross"><code>cross</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.cumprod.html#numpy.cumprod"><code>cumprod</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.cumsum.html#numpy.cumsum"><code>cumsum</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.diff.html#numpy.diff"><code>diff</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.dot.html#numpy.dot"><code>dot</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.floor.html#numpy.floor"><code>floor</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.inner.html#numpy.inner"><code>inner</code>open in new window</a>， <em>INV</em> ， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.lexsort.html#numpy.lexsort"><code>lexsort</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://docs.python.org/dev/library/functions.html#max"><code>max</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.maximum.html#numpy.maximum"><code>maximum</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.mean.html#numpy.mean"><code>mean</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.median.html#numpy.median"><code>median</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://docs.python.org/dev/library/functions.html#min"><code>min</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.minimum.html#numpy.minimum"><code>minimum</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.nonzero.html#numpy.nonzero"><code>nonzero</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.outer.html#numpy.outer"><code>outer</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.prod.html#numpy.prod"><code>prod</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://docs.python.org/dev/library/re.html#module-re"><code>re</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://docs.python.org/dev/library/functions.html#round"><code>round</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.sort.html#numpy.sort"><code>sort</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.std.html#numpy.std"><code>std</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.sum.html#numpy.sum"><code>sum</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.trace.html#numpy.trace"><code>trace</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.transpose.html#numpy.transpose"><code>transpose</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.var.html#numpy.var"><code>var</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vdot.html#numpy.vdot"><code>vdot</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vectorize.html#numpy.vectorize"><code>vectorize</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.where.html#numpy.where"><code>where</code>open in new window</a></p>
<h3 id="索引、切片和迭代"><a href="#索引、切片和迭代" class="headerlink" title="#索引、切片和迭代"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E7%B4%A2%E5%BC%95%E3%80%81%E5%88%87%E7%89%87%E5%92%8C%E8%BF%AD%E4%BB%A3">#</a>索引、切片和迭代</h3><p><strong>一维</strong>的数组可以进行索引、切片和迭代操作的，就像 <a target="_blank" rel="noopener" href="https://docs.python.org/tutorial/introduction.html#lists">列表open in new window</a> 和其他Python序列类型一样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">10</span>)**<span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([  <span class="number">0</span>,   <span class="number">1</span>,   <span class="number">8</span>,  <span class="number">27</span>,  <span class="number">64</span>, <span class="number">125</span>, <span class="number">216</span>, <span class="number">343</span>, <span class="number">512</span>, <span class="number">729</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>]</span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">array([ <span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[:<span class="number">6</span>:<span class="number">2</span>] = -<span class="number">1000</span>    <span class="comment"># equivalent to a[0:6:2] = -1000; from start to position 6, exclusive, set every 2nd element to -1000</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([-<span class="number">1000</span>,     <span class="number">1</span>, -<span class="number">1000</span>,    <span class="number">27</span>, -<span class="number">1000</span>,   <span class="number">125</span>,   <span class="number">216</span>,   <span class="number">343</span>,   <span class="number">512</span>,   <span class="number">729</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[ : :-<span class="number">1</span>]                                 <span class="comment"># reversed a</span></span><br><span class="line">array([  <span class="number">729</span>,   <span class="number">512</span>,   <span class="number">343</span>,   <span class="number">216</span>,   <span class="number">125</span>, -<span class="number">1000</span>,    <span class="number">27</span>, -<span class="number">1000</span>,     <span class="number">1</span>, -<span class="number">1000</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(i**(<span class="number">1</span>/<span class="number">3.</span>))</span><br><span class="line">...</span><br><span class="line">nan</span><br><span class="line"><span class="number">1.0</span></span><br><span class="line">nan</span><br><span class="line"><span class="number">3.0</span></span><br><span class="line">nan</span><br><span class="line"><span class="number">5.0</span></span><br><span class="line"><span class="number">6.0</span></span><br><span class="line"><span class="number">7.0</span></span><br><span class="line"><span class="number">8.0</span></span><br><span class="line"><span class="number">9.0</span></span><br></pre></td></tr></table></figure>

<p><strong>多维</strong>的数组每个轴可以有一个索引。这些索引以逗号分隔的元组给出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x,y</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> <span class="number">10</span>*x+y</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.fromfunction(f,(<span class="number">5</span>,<span class="number">4</span>),dtype=<span class="built_in">int</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>],</span><br><span class="line">       [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>],</span><br><span class="line">       [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="number">23</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">0</span>:<span class="number">5</span>, <span class="number">1</span>]                       <span class="comment"># each row in the second column of b</span></span><br><span class="line">array([ <span class="number">1</span>, <span class="number">11</span>, <span class="number">21</span>, <span class="number">31</span>, <span class="number">41</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[ : ,<span class="number">1</span>]                        <span class="comment"># equivalent to the previous example</span></span><br><span class="line">array([ <span class="number">1</span>, <span class="number">11</span>, <span class="number">21</span>, <span class="number">31</span>, <span class="number">41</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">1</span>:<span class="number">3</span>, : ]                      <span class="comment"># each column in the second and third row of b</span></span><br><span class="line">array([[<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]])</span><br></pre></td></tr></table></figure>

<p>当提供的索引少于轴的数量时，缺失的索引被认为是完整的切片<code>:</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[-<span class="number">1</span>]                                  <span class="comment"># the last row. Equivalent to b[-1,:]</span></span><br><span class="line">array([<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>])</span><br></pre></td></tr></table></figure>

<p><code>b[i]</code> 方括号中的表达式 <code>i</code> 被视为后面紧跟着 <code>:</code> 的多个实例，用于表示剩余轴。NumPy也允许你使用三个点写为 <code>b[i,...]</code>。</p>
<p>三个点（ <code>...</code> ）表示产生完整索引元组所需的冒号。例如，如果 <code>x</code> 是rank为5的数组（即，它具有5个轴），则：</p>
<ul>
<li><code>x[1,2,...]</code> 相当于 <code>x[1,2,:,:,:]</code>，</li>
<li><code>x[...,3]</code> 等效于 <code>x[:,:,:,:,3]</code></li>
<li><code>x[4,...,5,:]</code> 等效于 <code>x[4,:,:,5,:]</code>。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = np.array( [[[  <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],               <span class="comment"># a 3D array (two stacked 2D arrays)</span></span><br><span class="line"><span class="meta">... </span>                [ <span class="number">10</span>, <span class="number">12</span>, <span class="number">13</span>]],</span><br><span class="line"><span class="meta">... </span>               [[<span class="number">100</span>,<span class="number">101</span>,<span class="number">102</span>],</span><br><span class="line"><span class="meta">... </span>                [<span class="number">110</span>,<span class="number">112</span>,<span class="number">113</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.shape</span><br><span class="line">(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[<span class="number">1</span>,...]                                   <span class="comment"># same as c[1,:,:] or c[1]</span></span><br><span class="line">array([[<span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>],</span><br><span class="line">       [<span class="number">110</span>, <span class="number">112</span>, <span class="number">113</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[...,<span class="number">2</span>]                                   <span class="comment"># same as c[:,:,2]</span></span><br><span class="line">array([[  <span class="number">2</span>,  <span class="number">13</span>],</span><br><span class="line">       [<span class="number">102</span>, <span class="number">113</span>]])</span><br></pre></td></tr></table></figure>

<p>对多维数组进行 <strong>迭代（Iterating）</strong> 是相对于第一个轴完成的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> row <span class="keyword">in</span> b:</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(row)</span><br><span class="line">...</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">[<span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span>]</span><br><span class="line">[<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]</span><br><span class="line">[<span class="number">30</span> <span class="number">31</span> <span class="number">32</span> <span class="number">33</span>]</span><br><span class="line">[<span class="number">40</span> <span class="number">41</span> <span class="number">42</span> <span class="number">43</span>]</span><br></pre></td></tr></table></figure>

<p>但是，如果想要对数组中的每个元素执行操作，可以使用<code>flat</code>属性，该属性是数组的所有元素的<a target="_blank" rel="noopener" href="https://docs.python.org/tutorial/classes.html#iterators">迭代器open in new window</a>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> element <span class="keyword">in</span> b.flat:</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(element)</span><br><span class="line">...</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">11</span></span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">13</span></span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="number">22</span></span><br><span class="line"><span class="number">23</span></span><br><span class="line"><span class="number">30</span></span><br><span class="line"><span class="number">31</span></span><br><span class="line"><span class="number">32</span></span><br><span class="line"><span class="number">33</span></span><br><span class="line"><span class="number">40</span></span><br><span class="line"><span class="number">41</span></span><br><span class="line"><span class="number">42</span></span><br><span class="line"><span class="number">43</span></span><br></pre></td></tr></table></figure>

<p>另见</p>
<p><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/basics.indexing.html#basics-indexing">Indexing</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/arrays.indexing.html#arrays-indexing">Indexingopen in new window</a> (reference), <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/constants.html#numpy.newaxis"><code>newaxis</code>open in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ndenumerate.html#numpy.ndenumerate"><code>ndenumerate</code>open in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.indices.html#numpy.indices"><code>indices</code>open in new window</a></p>
<h2 id="形状操纵"><a href="#形状操纵" class="headerlink" title="#形状操纵"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E5%BD%A2%E7%8A%B6%E6%93%8D%E7%BA%B5">#</a>形状操纵</h2><h3 id="改变数组的形状"><a href="#改变数组的形状" class="headerlink" title="#改变数组的形状"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E6%94%B9%E5%8F%98%E6%95%B0%E7%BB%84%E7%9A%84%E5%BD%A2%E7%8A%B6">#</a>改变数组的形状</h3><p>一个数组的形状是由每个轴的元素数量决定的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.floor(<span class="number">10</span>*np.random.random((<span class="number">3</span>,<span class="number">4</span>)))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">2.</span>,  <span class="number">8.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>],</span><br><span class="line">       [ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>],</span><br><span class="line">       [ <span class="number">8.</span>,  <span class="number">9.</span>,  <span class="number">3.</span>,  <span class="number">6.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<p>可以使用各种命令更改数组的形状。请注意，以下三个命令都返回一个修改后的数组，但不会更改原始数组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.ravel()  <span class="comment"># returns the array, flattened</span></span><br><span class="line">array([ <span class="number">2.</span>,  <span class="number">8.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>,  <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">8.</span>,  <span class="number">9.</span>,  <span class="number">3.</span>,  <span class="number">6.</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.reshape(<span class="number">6</span>,<span class="number">2</span>)  <span class="comment"># returns the array with a modified shape</span></span><br><span class="line">array([[ <span class="number">2.</span>,  <span class="number">8.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">6.</span>],</span><br><span class="line">       [ <span class="number">4.</span>,  <span class="number">5.</span>],</span><br><span class="line">       [ <span class="number">1.</span>,  <span class="number">1.</span>],</span><br><span class="line">       [ <span class="number">8.</span>,  <span class="number">9.</span>],</span><br><span class="line">       [ <span class="number">3.</span>,  <span class="number">6.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.T  <span class="comment"># returns the array, transposed</span></span><br><span class="line">array([[ <span class="number">2.</span>,  <span class="number">4.</span>,  <span class="number">8.</span>],</span><br><span class="line">       [ <span class="number">8.</span>,  <span class="number">5.</span>,  <span class="number">9.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">1.</span>,  <span class="number">3.</span>],</span><br><span class="line">       [ <span class="number">6.</span>,  <span class="number">1.</span>,  <span class="number">6.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.T.shape</span><br><span class="line">(<span class="number">4</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<p>由 ravel() 产生的数组中元素的顺序通常是“C风格”，也就是说，最右边的索引“变化最快”，因此[0,0]之后的元素是[0,1] 。如果将数组重新整形为其他形状，则该数组将被视为“C风格”。NumPy通常创建按此顺序存储的数组，因此 ravel() 通常不需要复制其参数，但如果数组是通过获取另一个数组的切片或使用不常见的选项创建的，则可能需要复制它。还可以使用可选参数指示函数 ravel() 和 reshape()，以使用FORTRAN样式的数组，其中最左边的索引变化最快。</p>
<p>该<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.reshape.html#numpy.reshape"><code>reshape</code>open in new window</a>函数返回带有修改形状的参数，而该 <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.resize.html#numpy.ndarray.resize"><code>ndarray.resize</code>open in new window</a>方法会修改数组本身：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">2.</span>,  <span class="number">8.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>],</span><br><span class="line">       [ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>],</span><br><span class="line">       [ <span class="number">8.</span>,  <span class="number">9.</span>,  <span class="number">3.</span>,  <span class="number">6.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.resize((<span class="number">2</span>,<span class="number">6</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">2.</span>,  <span class="number">8.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>,  <span class="number">4.</span>,  <span class="number">5.</span>],</span><br><span class="line">       [ <span class="number">1.</span>,  <span class="number">1.</span>,  <span class="number">8.</span>,  <span class="number">9.</span>,  <span class="number">3.</span>,  <span class="number">6.</span>]])</span><br></pre></td></tr></table></figure>

<p>如果在 reshape 操作中将 size 指定为-1，则会自动计算其他的 size 大小：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.reshape(<span class="number">3</span>,-<span class="number">1</span>)</span><br><span class="line">array([[ <span class="number">2.</span>,  <span class="number">8.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>],</span><br><span class="line">       [ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">1.</span>,  <span class="number">1.</span>],</span><br><span class="line">       [ <span class="number">8.</span>,  <span class="number">9.</span>,  <span class="number">3.</span>,  <span class="number">6.</span>]])</span><br></pre></td></tr></table></figure>

<p>另见</p>
<p><a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.shape.html#numpy.ndarray.shape"><code>ndarray.shape</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.reshape.html#numpy.reshape"><code>reshape</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.resize.html#numpy.resize"><code>resize</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ravel.html#numpy.ravel"><code>ravel</code>open in new window</a></p>
<h3 id="将不同数组堆叠在一起"><a href="#将不同数组堆叠在一起" class="headerlink" title="#将不同数组堆叠在一起"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E5%B0%86%E4%B8%8D%E5%90%8C%E6%95%B0%E7%BB%84%E5%A0%86%E5%8F%A0%E5%9C%A8%E4%B8%80%E8%B5%B7">#</a>将不同数组堆叠在一起</h3><p>几个数组可以沿不同的轴堆叠在一起，例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.floor(<span class="number">10</span>*np.random.random((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">8.</span>,  <span class="number">8.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">0.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.floor(<span class="number">10</span>*np.random.random((<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[ <span class="number">1.</span>,  <span class="number">8.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">4.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.vstack((a,b))</span><br><span class="line">array([[ <span class="number">8.</span>,  <span class="number">8.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">0.</span>],</span><br><span class="line">       [ <span class="number">1.</span>,  <span class="number">8.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">4.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.hstack((a,b))</span><br><span class="line">array([[ <span class="number">8.</span>,  <span class="number">8.</span>,  <span class="number">1.</span>,  <span class="number">8.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">4.</span>]])</span><br></pre></td></tr></table></figure>

<p>该函数将<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.column_stack.html#numpy.column_stack"><code>column_stack</code>open in new window</a> 1D数组作为列堆叠到2D数组中。它仅相当于 <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.hstack.html#numpy.hstack"><code>hstack</code>open in new window</a>2D数组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> numpy <span class="keyword">import</span> newaxis</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.column_stack((a,b))     <span class="comment"># with 2D arrays</span></span><br><span class="line">array([[ <span class="number">8.</span>,  <span class="number">8.</span>,  <span class="number">1.</span>,  <span class="number">8.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">0.</span>,  <span class="number">4.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">4.</span>,<span class="number">2.</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">3.</span>,<span class="number">8.</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.column_stack((a,b))     <span class="comment"># returns a 2D array</span></span><br><span class="line">array([[ <span class="number">4.</span>, <span class="number">3.</span>],</span><br><span class="line">       [ <span class="number">2.</span>, <span class="number">8.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.hstack((a,b))           <span class="comment"># the result is different</span></span><br><span class="line">array([ <span class="number">4.</span>, <span class="number">2.</span>, <span class="number">3.</span>, <span class="number">8.</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[:,newaxis]               <span class="comment"># this allows to have a 2D columns vector</span></span><br><span class="line">array([[ <span class="number">4.</span>],</span><br><span class="line">       [ <span class="number">2.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.column_stack((a[:,newaxis],b[:,newaxis]))</span><br><span class="line">array([[ <span class="number">4.</span>,  <span class="number">3.</span>],</span><br><span class="line">       [ <span class="number">2.</span>,  <span class="number">8.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.hstack((a[:,newaxis],b[:,newaxis]))   <span class="comment"># the result is the same</span></span><br><span class="line">array([[ <span class="number">4.</span>,  <span class="number">3.</span>],</span><br><span class="line">       [ <span class="number">2.</span>,  <span class="number">8.</span>]])</span><br></pre></td></tr></table></figure>

<p>另一方面，该函数<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ma.row_stack.html#numpy.ma.row_stack"><code>ma.row_stack</code>open in new window</a>等效<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vstack.html#numpy.vstack"><code>vstack</code>open in new window</a> 于任何输入数组。通常，对于具有两个以上维度的数组， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.hstack.html#numpy.hstack"><code>hstack</code>open in new window</a>沿其第二轴<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vstack.html#numpy.vstack"><code>vstack</code>open in new window</a>堆叠，沿其第一轴堆叠，并<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.concatenate.html#numpy.concatenate"><code>concatenate</code>open in new window</a> 允许可选参数给出连接应发生的轴的编号。</p>
<p><strong>注意</strong></p>
<p>在复杂的情况下，<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.r_.html#numpy.r_"><code>r_</code>open in new window</a>和c <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.c_.html#numpy.c_"><code>c_</code>open in new window</a>于通过沿一个轴堆叠数字来创建数组很有用。它们允许使用范围操作符(“：”)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.r_[<span class="number">1</span>:<span class="number">4</span>,<span class="number">0</span>,<span class="number">4</span>]</span><br><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>

<p>与数组一起用作参数时， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.r_.html#numpy.r_"><code>r_</code>open in new window</a> 和 <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.c_.html#numpy.c_"><code>c_</code>open in new window</a> 在默认行为上类似于 <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vstack.html#numpy.vstack"><code>vstack</code>open in new window</a> 和 <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.hstack.html#numpy.hstack"><code>hstack</code>open in new window</a> ，但允许使用可选参数给出要连接的轴的编号。</p>
<p>另见</p>
<p><a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.hstack.html#numpy.hstack"><code>hstack</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vstack.html#numpy.vstack"><code>vstack</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.column_stack.html#numpy.column_stack"><code>column_stack</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.concatenate.html#numpy.concatenate"><code>concatenate</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.c_.html#numpy.c_"><code>c_</code>open in new window</a>， <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.r_.html#numpy.r_"><code>r_</code>open in new window</a></p>
<h3 id="将一个数组拆分成几个较小的数组"><a href="#将一个数组拆分成几个较小的数组" class="headerlink" title="#将一个数组拆分成几个较小的数组"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E5%B0%86%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E6%8B%86%E5%88%86%E6%88%90%E5%87%A0%E4%B8%AA%E8%BE%83%E5%B0%8F%E7%9A%84%E6%95%B0%E7%BB%84">#</a>将一个数组拆分成几个较小的数组</h3><p>使用<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.hsplit.html#numpy.hsplit"><code>hsplit</code>open in new window</a>，可以沿数组的水平轴拆分数组，方法是指定要返回的形状相等的数组的数量，或者指定应该在其之后进行分割的列：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.floor(<span class="number">10</span>*np.random.random((<span class="number">2</span>,<span class="number">12</span>)))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">9.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">3.</span>,  <span class="number">6.</span>,  <span class="number">8.</span>,  <span class="number">0.</span>,  <span class="number">7.</span>,  <span class="number">9.</span>,  <span class="number">7.</span>,  <span class="number">2.</span>,  <span class="number">7.</span>],</span><br><span class="line">       [ <span class="number">1.</span>,  <span class="number">4.</span>,  <span class="number">9.</span>,  <span class="number">2.</span>,  <span class="number">2.</span>,  <span class="number">1.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>,  <span class="number">2.</span>,  <span class="number">2.</span>,  <span class="number">4.</span>,  <span class="number">0.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.hsplit(a,<span class="number">3</span>)   <span class="comment"># Split a into 3</span></span><br><span class="line">[array([[ <span class="number">9.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">3.</span>],</span><br><span class="line">       [ <span class="number">1.</span>,  <span class="number">4.</span>,  <span class="number">9.</span>,  <span class="number">2.</span>]]), array([[ <span class="number">6.</span>,  <span class="number">8.</span>,  <span class="number">0.</span>,  <span class="number">7.</span>],</span><br><span class="line">       [ <span class="number">2.</span>,  <span class="number">1.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>]]), array([[ <span class="number">9.</span>,  <span class="number">7.</span>,  <span class="number">2.</span>,  <span class="number">7.</span>],</span><br><span class="line">       [ <span class="number">2.</span>,  <span class="number">2.</span>,  <span class="number">4.</span>,  <span class="number">0.</span>]])]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.hsplit(a,(<span class="number">3</span>,<span class="number">4</span>))   <span class="comment"># Split a after the third and the fourth column</span></span><br><span class="line">[array([[ <span class="number">9.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>],</span><br><span class="line">       [ <span class="number">1.</span>,  <span class="number">4.</span>,  <span class="number">9.</span>]]), array([[ <span class="number">3.</span>],</span><br><span class="line">       [ <span class="number">2.</span>]]), array([[ <span class="number">6.</span>,  <span class="number">8.</span>,  <span class="number">0.</span>,  <span class="number">7.</span>,  <span class="number">9.</span>,  <span class="number">7.</span>,  <span class="number">2.</span>,  <span class="number">7.</span>],</span><br><span class="line">       [ <span class="number">2.</span>,  <span class="number">1.</span>,  <span class="number">0.</span>,  <span class="number">6.</span>,  <span class="number">2.</span>,  <span class="number">2.</span>,  <span class="number">4.</span>,  <span class="number">0.</span>]])]</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vsplit.html#numpy.vsplit"><code>vsplit</code>open in new window</a>沿垂直轴分割，并<a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.array_split.html#numpy.array_split"><code>array_split</code>open in new window</a>允许指定要分割的轴。</p>
<h2 id="拷贝和视图"><a href="#拷贝和视图" class="headerlink" title="#拷贝和视图"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E6%8B%B7%E8%B4%9D%E5%92%8C%E8%A7%86%E5%9B%BE">#</a>拷贝和视图</h2><p>当计算和操作数组时，有时会将数据复制到新数组中，有时则不会。这通常是初学者混淆的根源。有三种情况：</p>
<h3 id="完全不复制"><a href="#完全不复制" class="headerlink" title="#完全不复制"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E5%AE%8C%E5%85%A8%E4%B8%8D%E5%A4%8D%E5%88%B6">#</a>完全不复制</h3><p>简单分配不会复制数组对象或其数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">12</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a            <span class="comment"># no new object is created</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b <span class="keyword">is</span> a           <span class="comment"># a and b are two names for the same ndarray object</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.shape = <span class="number">3</span>,<span class="number">4</span>    <span class="comment"># changes the shape of a</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<p>Python将可变对象作为引用传递，因此函数调用不会复制。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(<span class="built_in">id</span>(x))</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">id</span>(a)                           <span class="comment"># id is a unique identifier of an object</span></span><br><span class="line"><span class="number">148293216</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f(a)</span><br><span class="line"><span class="number">148293216</span></span><br></pre></td></tr></table></figure>

<h3 id="视图或浅拷贝"><a href="#视图或浅拷贝" class="headerlink" title="#视图或浅拷贝"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E8%A7%86%E5%9B%BE%E6%88%96%E6%B5%85%E6%8B%B7%E8%B4%9D">#</a>视图或浅拷贝</h3><p>不同的数组对象可以共享相同的数据。该<code>view</code>方法创建一个查看相同数据的新数组对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = a.view()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c <span class="keyword">is</span> a</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.base <span class="keyword">is</span> a                        <span class="comment"># c is a view of the data owned by a</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.flags.owndata</span><br><span class="line"><span class="literal">False</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.shape = <span class="number">2</span>,<span class="number">6</span>                      <span class="comment"># a&#x27;s shape doesn&#x27;t change</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[<span class="number">0</span>,<span class="number">4</span>] = <span class="number">1234</span>                      <span class="comment"># a&#x27;s data changes</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[   <span class="number">0</span>,    <span class="number">1</span>,    <span class="number">2</span>,    <span class="number">3</span>],</span><br><span class="line">       [<span class="number">1234</span>,    <span class="number">5</span>,    <span class="number">6</span>,    <span class="number">7</span>],</span><br><span class="line">       [   <span class="number">8</span>,    <span class="number">9</span>,   <span class="number">10</span>,   <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>

<p>切片数组会返回一个视图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = a[ : , <span class="number">1</span>:<span class="number">3</span>]     <span class="comment"># spaces added for clarity; could also be written &quot;s = a[:,1:3]&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s[:] = <span class="number">10</span>           <span class="comment"># s[:] is a view of s. Note the difference between s=10 and s[:]=10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[   <span class="number">0</span>,   <span class="number">10</span>,   <span class="number">10</span>,    <span class="number">3</span>],</span><br><span class="line">       [<span class="number">1234</span>,   <span class="number">10</span>,   <span class="number">10</span>,    <span class="number">7</span>],</span><br><span class="line">       [   <span class="number">8</span>,   <span class="number">10</span>,   <span class="number">10</span>,   <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>

<h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="#深拷贝"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E6%B7%B1%E6%8B%B7%E8%B4%9D">#</a>深拷贝</h3><p>该<code>copy</code>方法生成数组及其数据的完整副本。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = a.copy()                          <span class="comment"># a new array object with new data is created</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d <span class="keyword">is</span> a</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.base <span class="keyword">is</span> a                           <span class="comment"># d doesn&#x27;t share anything with a</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="number">0</span>,<span class="number">0</span>] = <span class="number">9999</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[   <span class="number">0</span>,   <span class="number">10</span>,   <span class="number">10</span>,    <span class="number">3</span>],</span><br><span class="line">       [<span class="number">1234</span>,   <span class="number">10</span>,   <span class="number">10</span>,    <span class="number">7</span>],</span><br><span class="line">       [   <span class="number">8</span>,   <span class="number">10</span>,   <span class="number">10</span>,   <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>

<p>有时，如果不再需要原始数组，则应在切片后调用 <code>copy</code>。例如，假设a是一个巨大的中间结果，最终结果b只包含a的一小部分，那么在用切片构造b时应该做一个深拷贝：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="built_in">int</span>(<span class="number">1e8</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a[:<span class="number">100</span>].copy()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> a  <span class="comment"># the memory of ``a`` can be released.</span></span><br></pre></td></tr></table></figure>

<p>如果改为使用 <code>b = a[:100]</code>，则 <code>a</code> 由 <code>b</code> 引用，并且即使执行 <code>del a</code> 也会在内存中持久存在。</p>
<h3 id="功能和方法概述"><a href="#功能和方法概述" class="headerlink" title="#功能和方法概述"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E5%8A%9F%E8%83%BD%E5%92%8C%E6%96%B9%E6%B3%95%E6%A6%82%E8%BF%B0">#</a>功能和方法概述</h3><p>以下是按类别排序的一些有用的NumPy函数和方法名称的列表。有关完整列表，请参阅<a target="_blank" rel="noopener" href="https://www.numpy.org.cn/reference/">参考手册</a>里的<a target="_blank" rel="noopener" href="https://www.numpy.org.cn/reference/routines/">常用API</a>。</p>
<ul>
<li><strong>数组的创建（Array Creation）</strong> - <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.arange.html#numpy.arange">arangeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array">arrayopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.copy.html#numpy.copy">copyopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.empty.html#numpy.empty">emptyopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.empty_like.html#numpy.empty_like">empty_likeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.eye.html#numpy.eye">eyeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.fromfile.html#numpy.fromfile">fromfileopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.fromfunction.html#numpy.fromfunction">fromfunctionopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.identity.html#numpy.identity">identityopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.linspace.html#numpy.linspace">linspaceopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.logspace.html#numpy.logspace">logspaceopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.mgrid.html#numpy.mgrid">mgridopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ogrid.html#numpy.ogrid">ogridopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ones.html#numpy.ones">onesopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ones_like.html#numpy.ones_like">ones_likeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.zeros.html#numpy.zeros">zerosopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.zeros_like.html#numpy.zeros_like">zeros_likeopen in new window</a></li>
<li><strong>转换和变换（Conversions）</strong> - <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.astype.html#numpy.ndarray.astype">ndarray.astypeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.atleast_1d.html#numpy.atleast_1d">atleast_1dopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.atleast_2d.html#numpy.atleast_2d">atleast_2dopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.atleast_3d.html#numpy.atleast_3d">atleast_3dopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.mat.html#numpy.mat">matopen in new window</a></li>
<li><strong>操纵术（Manipulations）</strong> - <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.array_split.html#numpy.array_split">array_splitopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.column_stack.html#numpy.column_stack">column_stackopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.concatenate.html#numpy.concatenate">concatenateopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.diagonal.html#numpy.diagonal">diagonalopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.dsplit.html#numpy.dsplit">dsplitopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.dstack.html#numpy.dstack">dstackopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.hsplit.html#numpy.hsplit">hsplitopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.hstack.html#numpy.hstack">hstackopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.item.html#numpy.ndarray.item">ndarray.itemopen in new window</a>, <a target="_blank" rel="noopener" href="https://www.numpy.org.cn/reference/constants.html#numpy.newaxis">newaxis</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ravel.html#numpy.ravel">ravelopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.repeat.html#numpy.repeat">repeatopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.reshape.html#numpy.reshape">reshapeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.resize.html#numpy.resize">resizeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.squeeze.html#numpy.squeeze">squeezeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.swapaxes.html#numpy.swapaxes">swapaxesopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.take.html#numpy.take">takeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.transpose.html#numpy.transpose">transposeopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vsplit.html#numpy.vsplit">vsplitopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vstack.html#numpy.vstack">vstackopen in new window</a></li>
<li><strong>询问（Questions）</strong> - <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.all.html#numpy.all">allopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.any.html#numpy.any">anyopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.nonzero.html#numpy.nonzero">nonzeroopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.where.html#numpy.where">whereopen in new window</a>,</li>
<li><strong>顺序（Ordering）</strong> - <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.argmax.html#numpy.argmax">argmaxopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.argmin.html#numpy.argmin">argminopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.argsort.html#numpy.argsort">argsortopen in new window</a>, <a target="_blank" rel="noopener" href="https://docs.python.org/dev/library/functions.html#max">maxopen in new window</a>, <a target="_blank" rel="noopener" href="https://docs.python.org/dev/library/functions.html#min">minopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ptp.html#numpy.ptp">ptpopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.searchsorted.html#numpy.searchsorted">searchsortedopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.sort.html#numpy.sort">sortopen in new window</a></li>
<li><strong>操作（Operations）</strong> - <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.choose.html#numpy.choose">chooseopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.compress.html#numpy.compress">compressopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.cumprod.html#numpy.cumprod">cumprodopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.cumsum.html#numpy.cumsum">cumsumopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.inner.html#numpy.inner">inneropen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.fill.html#numpy.ndarray.fill">ndarray.fillopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.imag.html#numpy.imag">imagopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.prod.html#numpy.prod">prodopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.put.html#numpy.put">putopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.putmask.html#numpy.putmask">putmaskopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.real.html#numpy.real">realopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.sum.html#numpy.sum">sumopen in new window</a></li>
<li><strong>基本统计（Basic Statistics）</strong> - <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.cov.html#numpy.cov">covopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.mean.html#numpy.mean">meanopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.std.html#numpy.std">stdopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.var.html#numpy.var">varopen in new window</a></li>
<li><strong>基本线性代数（Basic Linear Algebra）</strong> - <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.cross.html#numpy.cross">crossopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.dot.html#numpy.dot">dotopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.outer.html#numpy.outer">outeropen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.linalg.svd.html#numpy.linalg.svd">linalg.svdopen in new window</a>, <a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.vdot.html#numpy.vdot">vdotopen in new window</a></li>
</ul>
<h2 id="Less-基础"><a href="#Less-基础" class="headerlink" title="#Less 基础"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#less-%E5%9F%BA%E7%A1%80">#</a>Less 基础</h2><h3 id="广播（Broadcasting）规则"><a href="#广播（Broadcasting）规则" class="headerlink" title="#广播（Broadcasting）规则"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E5%B9%BF%E6%92%AD-broadcasting-%E8%A7%84%E5%88%99">#</a>广播（Broadcasting）规则</h3><p>广播允许通用功能以有意义的方式处理不具有完全相同形状的输入。</p>
<p>广播的第一个规则是，如果所有输入数组不具有相同数量的维度，则将“1”重复地预先添加到较小数组的形状，直到所有数组具有相同数量的维度。</p>
<p>广播的第二个规则确保沿特定维度的大小为1的数组表现为具有沿该维度具有最大形状的数组的大小。假定数组元素的值沿着“广播”数组的那个维度是相同的。</p>
<p>应用广播规则后，所有数组的大小必须匹配。更多细节可以在<a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/basics/broadcasting.html">广播中</a>找到。</p>
<h2 id="花式索引和索引技巧"><a href="#花式索引和索引技巧" class="headerlink" title="#花式索引和索引技巧"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95%E5%92%8C%E7%B4%A2%E5%BC%95%E6%8A%80%E5%B7%A7">#</a>花式索引和索引技巧</h2><p>NumPy提供比常规Python序列更多的索引功能。除了通过整数和切片进行索引之外，正如我们之前看到的，数组可以由整数数组和布尔数组索引。</p>
<h3 id="使用索引数组进行索引"><a href="#使用索引数组进行索引" class="headerlink" title="#使用索引数组进行索引"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E6%95%B0%E7%BB%84%E8%BF%9B%E8%A1%8C%E7%B4%A2%E5%BC%95">#</a>使用索引数组进行索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">12</span>)**<span class="number">2</span>                       <span class="comment"># the first 12 square numbers</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i = np.array( [ <span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">5</span> ] )              <span class="comment"># an array of indices</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[i]                                       <span class="comment"># the elements of a at the positions i</span></span><br><span class="line">array([ <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">9</span>, <span class="number">64</span>, <span class="number">25</span>])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>j = np.array( [ [ <span class="number">3</span>, <span class="number">4</span>], [ <span class="number">9</span>, <span class="number">7</span> ] ] )      <span class="comment"># a bidimensional array of indices</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[j]                                       <span class="comment"># the same shape as j</span></span><br><span class="line">array([[ <span class="number">9</span>, <span class="number">16</span>],</span><br><span class="line">       [<span class="number">81</span>, <span class="number">49</span>]])</span><br></pre></td></tr></table></figure>

<p>当索引数组<code>a</code>是多维的时，单个索引数组指的是第一个维度<code>a</code>。以下示例通过使用调色板将标签图像转换为彩色图像来显示此行为。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>palette = np.array( [ [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],                <span class="comment"># black</span></span><br><span class="line"><span class="meta">... </span>                      [<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>],              <span class="comment"># red</span></span><br><span class="line"><span class="meta">... </span>                      [<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>],              <span class="comment"># green</span></span><br><span class="line"><span class="meta">... </span>                      [<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>],              <span class="comment"># blue</span></span><br><span class="line"><span class="meta">... </span>                      [<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>] ] )       <span class="comment"># white</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>image = np.array( [ [ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span> ],           <span class="comment"># each value corresponds to a color in the palette</span></span><br><span class="line"><span class="meta">... </span>                    [ <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span> ]  ] )</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>palette[image]                            <span class="comment"># the (2,4,3) color image</span></span><br><span class="line">array([[[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">        [<span class="number">255</span>,   <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">        [  <span class="number">0</span>, <span class="number">255</span>,   <span class="number">0</span>],</span><br><span class="line">        [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>]],</span><br><span class="line">       [[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">        [  <span class="number">0</span>,   <span class="number">0</span>, <span class="number">255</span>],</span><br><span class="line">        [<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>],</span><br><span class="line">        [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>]]])</span><br></pre></td></tr></table></figure>

<p>我们还可以为多个维度提供索引。每个维度的索引数组必须具有相同的形状。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i = np.array( [ [<span class="number">0</span>,<span class="number">1</span>],                        <span class="comment"># indices for the first dim of a</span></span><br><span class="line"><span class="meta">... </span>                [<span class="number">1</span>,<span class="number">2</span>] ] )</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>j = np.array( [ [<span class="number">2</span>,<span class="number">1</span>],                        <span class="comment"># indices for the second dim</span></span><br><span class="line"><span class="meta">... </span>                [<span class="number">3</span>,<span class="number">3</span>] ] )</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[i,j]                                     <span class="comment"># i and j must have equal shape</span></span><br><span class="line">array([[ <span class="number">2</span>,  <span class="number">5</span>],</span><br><span class="line">       [ <span class="number">7</span>, <span class="number">11</span>]])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[i,<span class="number">2</span>]</span><br><span class="line">array([[ <span class="number">2</span>,  <span class="number">6</span>],</span><br><span class="line">       [ <span class="number">6</span>, <span class="number">10</span>]])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[:,j]                                     <span class="comment"># i.e., a[ : , j]</span></span><br><span class="line">array([[[ <span class="number">2</span>,  <span class="number">1</span>],</span><br><span class="line">        [ <span class="number">3</span>,  <span class="number">3</span>]],</span><br><span class="line">       [[ <span class="number">6</span>,  <span class="number">5</span>],</span><br><span class="line">        [ <span class="number">7</span>,  <span class="number">7</span>]],</span><br><span class="line">       [[<span class="number">10</span>,  <span class="number">9</span>],</span><br><span class="line">        [<span class="number">11</span>, <span class="number">11</span>]]])</span><br></pre></td></tr></table></figure>

<p>当然，我们可以按顺序（比如列表）放入<code>i</code>，<code>j</code>然后使用列表进行索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>l = [i,j]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[l]                                       <span class="comment"># equivalent to a[i,j]</span></span><br><span class="line">array([[ <span class="number">2</span>,  <span class="number">5</span>],</span><br><span class="line">       [ <span class="number">7</span>, <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>

<p>但是，我们不能通过放入<code>i</code>和<code>j</code>放入数组来实现这一点，因为这个数组将被解释为索引a的第一个维度。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = np.array( [i,j] )</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[s]                                       <span class="comment"># not what we want</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">IndexError: index (<span class="number">3</span>) out of <span class="built_in">range</span> (<span class="number">0</span>&lt;=index&lt;=<span class="number">2</span>) <span class="keyword">in</span> dimension <span class="number">0</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="built_in">tuple</span>(s)]                                <span class="comment"># same as a[i,j]</span></span><br><span class="line">array([[ <span class="number">2</span>,  <span class="number">5</span>],</span><br><span class="line">       [ <span class="number">7</span>, <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>

<p>使用数组索引的另一个常见用法是搜索与时间相关的系列的最大值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>time = np.linspace(<span class="number">20</span>, <span class="number">145</span>, <span class="number">5</span>)                 <span class="comment"># time scale</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = np.sin(np.arange(<span class="number">20</span>)).reshape(<span class="number">5</span>,<span class="number">4</span>)      <span class="comment"># 4 time-dependent series</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time</span><br><span class="line">array([  <span class="number">20.</span>  ,   <span class="number">51.25</span>,   <span class="number">82.5</span> ,  <span class="number">113.75</span>,  <span class="number">145.</span>  ])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data</span><br><span class="line">array([[ <span class="number">0.</span>        ,  <span class="number">0.84147098</span>,  <span class="number">0.90929743</span>,  <span class="number">0.14112001</span>],</span><br><span class="line">       [-<span class="number">0.7568025</span> , -<span class="number">0.95892427</span>, -<span class="number">0.2794155</span> ,  <span class="number">0.6569866</span> ],</span><br><span class="line">       [ <span class="number">0.98935825</span>,  <span class="number">0.41211849</span>, -<span class="number">0.54402111</span>, -<span class="number">0.99999021</span>],</span><br><span class="line">       [-<span class="number">0.53657292</span>,  <span class="number">0.42016704</span>,  <span class="number">0.99060736</span>,  <span class="number">0.65028784</span>],</span><br><span class="line">       [-<span class="number">0.28790332</span>, -<span class="number">0.96139749</span>, -<span class="number">0.75098725</span>,  <span class="number">0.14987721</span>]])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ind = data.argmax(axis=<span class="number">0</span>)                  <span class="comment"># index of the maxima for each series</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ind</span><br><span class="line">array([<span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time_max = time[ind]                       <span class="comment"># times corresponding to the maxima</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data_max = data[ind, <span class="built_in">range</span>(data.shape[<span class="number">1</span>])] <span class="comment"># =&gt; data[ind[0],0], data[ind[1],1]...</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time_max</span><br><span class="line">array([  <span class="number">82.5</span> ,   <span class="number">20.</span>  ,  <span class="number">113.75</span>,   <span class="number">51.25</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data_max</span><br><span class="line">array([ <span class="number">0.98935825</span>,  <span class="number">0.84147098</span>,  <span class="number">0.99060736</span>,  <span class="number">0.6569866</span> ])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.<span class="built_in">all</span>(data_max == data.<span class="built_in">max</span>(axis=<span class="number">0</span>))</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>您还可以使用数组索引作为分配给的目标：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]] = <span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<p>但是，当索引列表包含重复时，分配会多次完成，留下最后一个值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>]]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>

<p>这是合理的，但请注意是否要使用Python的 <code>+=</code>构造，因为它可能不会按预期执行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>]]+=<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>

<p>即使0在索引列表中出现两次，第0个元素也只增加一次。这是因为Python要求“a + &#x3D; 1”等同于“a &#x3D; a + 1”。</p>
<h3 id="使用布尔数组进行索引"><a href="#使用布尔数组进行索引" class="headerlink" title="#使用布尔数组进行索引"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E4%BD%BF%E7%94%A8%E5%B8%83%E5%B0%94%E6%95%B0%E7%BB%84%E8%BF%9B%E8%A1%8C%E7%B4%A2%E5%BC%95">#</a>使用布尔数组进行索引</h3><p>当我们使用（整数）索引数组索引数组时，我们提供了要选择的索引列表。使用布尔索引，方法是不同的; 我们明确地选择我们想要的数组中的哪些项目以及我们不需要的项目。</p>
<p>人们可以想到的最自然的布尔索引方法是使用与原始数组具有 <em>相同形状的</em> 布尔数组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a &gt; <span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b                                          <span class="comment"># b is a boolean with a&#x27;s shape</span></span><br><span class="line">array([[<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>],</span><br><span class="line">       [<span class="literal">False</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">       [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[b]                                       <span class="comment"># 1d array with the selected elements</span></span><br><span class="line">array([ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>])</span><br></pre></td></tr></table></figure>

<p>此属性在分配中非常有用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[b] = <span class="number">0</span>                                   <span class="comment"># All elements of &#x27;a&#x27; higher than 4 become 0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]])</span><br></pre></td></tr></table></figure>

<p>您可以查看以下示例，了解如何使用布尔索引生成<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Mandelbrot_set">Mandelbrot集open in new window</a>的图像：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">mandelbrot</span>(<span class="params"> h,w, maxit=<span class="number">20</span> </span>):</span><br><span class="line"><span class="meta">... </span>    <span class="string">&quot;&quot;&quot;Returns an image of the Mandelbrot fractal of size (h,w).&quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">... </span>    y,x = np.ogrid[ -<span class="number">1.4</span>:<span class="number">1.4</span>:h*<span class="number">1j</span>, -<span class="number">2</span>:<span class="number">0.8</span>:w*<span class="number">1j</span> ]</span><br><span class="line"><span class="meta">... </span>    c = x+y*<span class="number">1j</span></span><br><span class="line"><span class="meta">... </span>    z = c</span><br><span class="line"><span class="meta">... </span>    divtime = maxit + np.zeros(z.shape, dtype=<span class="built_in">int</span>)</span><br><span class="line">...</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(maxit):</span><br><span class="line"><span class="meta">... </span>        z = z**<span class="number">2</span> + c</span><br><span class="line"><span class="meta">... </span>        diverge = z*np.conj(z) &gt; <span class="number">2</span>**<span class="number">2</span>            <span class="comment"># who is diverging</span></span><br><span class="line"><span class="meta">... </span>        div_now = diverge &amp; (divtime==maxit)  <span class="comment"># who is diverging now</span></span><br><span class="line"><span class="meta">... </span>        divtime[div_now] = i                  <span class="comment"># note when</span></span><br><span class="line"><span class="meta">... </span>        z[diverge] = <span class="number">2</span>                        <span class="comment"># avoid diverging too much</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> divtime</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>plt.imshow(mandelbrot(<span class="number">400</span>,<span class="number">400</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://www.numpy.org.cn/static/images/quickstart-1.png" alt="quickstart-1"></p>
<p>使用布尔值进行索引的第二种方法更类似于整数索引; 对于数组的每个维度，我们给出一个1D布尔数组，选择我们想要的切片：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b1 = np.array([<span class="literal">False</span>,<span class="literal">True</span>,<span class="literal">True</span>])             <span class="comment"># first dim selection</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b2 = np.array([<span class="literal">True</span>,<span class="literal">False</span>,<span class="literal">True</span>,<span class="literal">False</span>])       <span class="comment"># second dim selection</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[b1,:]                                   <span class="comment"># selecting rows</span></span><br><span class="line">array([[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[b1]                                     <span class="comment"># same thing</span></span><br><span class="line">array([[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[:,b2]                                   <span class="comment"># selecting columns</span></span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">6</span>],</span><br><span class="line">       [ <span class="number">8</span>, <span class="number">10</span>]])</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[b1,b2]                                  <span class="comment"># a weird thing to do</span></span><br><span class="line">array([ <span class="number">4</span>, <span class="number">10</span>])</span><br></pre></td></tr></table></figure>

<p>请注意，1D布尔数组的长度必须与要切片的尺寸（或轴）的长度一致。在前面的例子中，<code>b1</code>具有长度为3（的数目 <em>的行</em> 中<code>a</code>），和 <code>b2</code>（长度4）适合于索引的第二轴线（列） <code>a</code>。</p>
<h3 id="ix-函数"><a href="#ix-函数" class="headerlink" title="#ix_()函数"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#ix-%E5%87%BD%E6%95%B0">#</a>ix_()函数</h3><p><a target="_blank" rel="noopener" href="https://numpy.org/devdocs/reference/generated/numpy.ix_.html#numpy.ix_"><code>ix_</code>open in new window</a>函数可用于组合不同的向量，以便获得每个n-uplet的结果。例如，如果要计算从每个向量a，b和c中取得的所有三元组的所有a + b * c：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">8</span>,<span class="number">5</span>,<span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = np.array([<span class="number">5</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ax,bx,cx = np.ix_(a,b,c)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ax</span><br><span class="line">array([[[<span class="number">2</span>]],</span><br><span class="line">       [[<span class="number">3</span>]],</span><br><span class="line">       [[<span class="number">4</span>]],</span><br><span class="line">       [[<span class="number">5</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bx</span><br><span class="line">array([[[<span class="number">8</span>],</span><br><span class="line">        [<span class="number">5</span>],</span><br><span class="line">        [<span class="number">4</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cx</span><br><span class="line">array([[[<span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">3</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ax.shape, bx.shape, cx.shape</span><br><span class="line">((<span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result = ax+bx*cx</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result</span><br><span class="line">array([[[<span class="number">42</span>, <span class="number">34</span>, <span class="number">50</span>, <span class="number">66</span>, <span class="number">26</span>],</span><br><span class="line">        [<span class="number">27</span>, <span class="number">22</span>, <span class="number">32</span>, <span class="number">42</span>, <span class="number">17</span>],</span><br><span class="line">        [<span class="number">22</span>, <span class="number">18</span>, <span class="number">26</span>, <span class="number">34</span>, <span class="number">14</span>]],</span><br><span class="line">       [[<span class="number">43</span>, <span class="number">35</span>, <span class="number">51</span>, <span class="number">67</span>, <span class="number">27</span>],</span><br><span class="line">        [<span class="number">28</span>, <span class="number">23</span>, <span class="number">33</span>, <span class="number">43</span>, <span class="number">18</span>],</span><br><span class="line">        [<span class="number">23</span>, <span class="number">19</span>, <span class="number">27</span>, <span class="number">35</span>, <span class="number">15</span>]],</span><br><span class="line">       [[<span class="number">44</span>, <span class="number">36</span>, <span class="number">52</span>, <span class="number">68</span>, <span class="number">28</span>],</span><br><span class="line">        [<span class="number">29</span>, <span class="number">24</span>, <span class="number">34</span>, <span class="number">44</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">24</span>, <span class="number">20</span>, <span class="number">28</span>, <span class="number">36</span>, <span class="number">16</span>]],</span><br><span class="line">       [[<span class="number">45</span>, <span class="number">37</span>, <span class="number">53</span>, <span class="number">69</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">30</span>, <span class="number">25</span>, <span class="number">35</span>, <span class="number">45</span>, <span class="number">20</span>],</span><br><span class="line">        [<span class="number">25</span>, <span class="number">21</span>, <span class="number">29</span>, <span class="number">37</span>, <span class="number">17</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result[<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>]</span><br><span class="line"><span class="number">17</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">3</span>]+b[<span class="number">2</span>]*c[<span class="number">4</span>]</span><br><span class="line"><span class="number">17</span></span><br></pre></td></tr></table></figure>

<p>您还可以按如下方式实现reduce：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">ufunc_reduce</span>(<span class="params">ufct, *vectors</span>):</span><br><span class="line"><span class="meta">... </span>   vs = np.ix_(*vectors)</span><br><span class="line"><span class="meta">... </span>   r = ufct.identity</span><br><span class="line"><span class="meta">... </span>   <span class="keyword">for</span> v <span class="keyword">in</span> vs:</span><br><span class="line"><span class="meta">... </span>       r = ufct(r,v)</span><br><span class="line"><span class="meta">... </span>   <span class="keyword">return</span> r</span><br></pre></td></tr></table></figure>

<p>然后将其用作：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ufunc_reduce(np.add,a,b,c)</span><br><span class="line">array([[[<span class="number">15</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">18</span>, <span class="number">13</span>],</span><br><span class="line">        [<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">10</span>],</span><br><span class="line">        [<span class="number">11</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>,  <span class="number">9</span>]],</span><br><span class="line">       [[<span class="number">16</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">14</span>],</span><br><span class="line">        [<span class="number">13</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">11</span>],</span><br><span class="line">        [<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">10</span>]],</span><br><span class="line">       [[<span class="number">17</span>, <span class="number">16</span>, <span class="number">18</span>, <span class="number">20</span>, <span class="number">15</span>],</span><br><span class="line">        [<span class="number">14</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">12</span>],</span><br><span class="line">        [<span class="number">13</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">11</span>]],</span><br><span class="line">       [[<span class="number">18</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">21</span>, <span class="number">16</span>],</span><br><span class="line">        [<span class="number">15</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">18</span>, <span class="number">13</span>],</span><br><span class="line">        [<span class="number">14</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">12</span>]]])</span><br></pre></td></tr></table></figure>

<p>与普通的ufunc.reduce相比，这个版本的reduce的优点是它利用了广播规则 ，以避免创建一个参数数组，输出的大小乘以向量的数量。</p>
<h3 id="使用字符串建立索引"><a href="#使用字符串建立索引" class="headerlink" title="#使用字符串建立索引"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95">#</a>使用字符串建立索引</h3><p>请参见<a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/basics/rec.html">结构化数组</a>。</p>
<h2 id="线性代数"><a href="#线性代数" class="headerlink" title="#线性代数"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0">#</a>线性代数</h2><p>工作正在进行中。这里包括基本线性代数。</p>
<h3 id="简单数组操作"><a href="#简单数组操作" class="headerlink" title="#简单数组操作"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E7%AE%80%E5%8D%95%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C">#</a>简单数组操作</h3><p>有关更多信息，请参阅numpy文件夹中的linalg.py.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([[<span class="number">1.0</span>, <span class="number">2.0</span>], [<span class="number">3.0</span>, <span class="number">4.0</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a)</span><br><span class="line">[[ <span class="number">1.</span>  <span class="number">2.</span>]</span><br><span class="line"> [ <span class="number">3.</span>  <span class="number">4.</span>]]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.transpose()</span><br><span class="line">array([[ <span class="number">1.</span>,  <span class="number">3.</span>],</span><br><span class="line">       [ <span class="number">2.</span>,  <span class="number">4.</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linalg.inv(a)</span><br><span class="line">array([[-<span class="number">2.</span> ,  <span class="number">1.</span> ],</span><br><span class="line">       [ <span class="number">1.5</span>, -<span class="number">0.5</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>u = np.eye(<span class="number">2</span>) <span class="comment"># unit 2x2 matrix; &quot;eye&quot; represents &quot;I&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>u</span><br><span class="line">array([[ <span class="number">1.</span>,  <span class="number">0.</span>],</span><br><span class="line">       [ <span class="number">0.</span>,  <span class="number">1.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>j = np.array([[<span class="number">0.0</span>, -<span class="number">1.0</span>], [<span class="number">1.0</span>, <span class="number">0.0</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>j @ j        <span class="comment"># matrix product</span></span><br><span class="line">array([[-<span class="number">1.</span>,  <span class="number">0.</span>],</span><br><span class="line">       [ <span class="number">0.</span>, -<span class="number">1.</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.trace(u)  <span class="comment"># trace</span></span><br><span class="line"><span class="number">2.0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = np.array([[<span class="number">5.</span>], [<span class="number">7.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linalg.solve(a, y)</span><br><span class="line">array([[-<span class="number">3.</span>],</span><br><span class="line">       [ <span class="number">4.</span>]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linalg.eig(j)</span><br><span class="line">(array([ <span class="number">0.</span>+<span class="number">1.j</span>,  <span class="number">0.</span>-<span class="number">1.j</span>]), array([[ <span class="number">0.70710678</span>+<span class="number">0.j</span>        ,  <span class="number">0.70710678</span>-<span class="number">0.j</span>        ],</span><br><span class="line">       [ <span class="number">0.00000000</span>-<span class="number">0.70710678j</span>,  <span class="number">0.00000000</span>+<span class="number">0.70710678j</span>]]))</span><br><span class="line">Parameters:</span><br><span class="line">    square matrix</span><br><span class="line">Returns</span><br><span class="line">    The eigenvalues, each repeated according to its multiplicity.</span><br><span class="line">    The normalized (unit <span class="string">&quot;length&quot;</span>) eigenvectors, such that the</span><br><span class="line">    column ``v[:,i]`` <span class="keyword">is</span> the eigenvector corresponding to the</span><br><span class="line">    eigenvalue ``w[i]`` .</span><br></pre></td></tr></table></figure>

<h2 id="技巧和提示"><a href="#技巧和提示" class="headerlink" title="#技巧和提示"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E6%8A%80%E5%B7%A7%E5%92%8C%E6%8F%90%E7%A4%BA">#</a>技巧和提示</h2><p>这里我们列出一些简短有用的提示。</p>
<h3 id="“自动”整形"><a href="#“自动”整形" class="headerlink" title="#“自动”整形"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E8%87%AA%E5%8A%A8-%E6%95%B4%E5%BD%A2">#</a>“自动”整形</h3><p>要更改数组的尺寸，您可以省略其中一个尺寸，然后自动推导出尺寸：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">30</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape = <span class="number">2</span>,-<span class="number">1</span>,<span class="number">3</span>  <span class="comment"># -1 means &quot;whatever is needed&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape</span><br><span class="line">(<span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],</span><br><span class="line">        [ <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],</span><br><span class="line">        [ <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line">        [ <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],</span><br><span class="line">        [<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]],</span><br><span class="line">       [[<span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>],</span><br><span class="line">        [<span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>],</span><br><span class="line">        [<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>],</span><br><span class="line">        [<span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>],</span><br><span class="line">        [<span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>]]])</span><br></pre></td></tr></table></figure>

<h3 id="矢量堆叠"><a href="#矢量堆叠" class="headerlink" title="#矢量堆叠"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E7%9F%A2%E9%87%8F%E5%A0%86%E5%8F%A0">#</a>矢量堆叠</h3><p>我们如何从同等大小的行向量列表中构造一个二维数组？在MATLAB这是很简单：如果<code>x</code>和<code>y</code>你只需要做两个相同长度的向量<code>m=[x;y]</code>。在此NumPy的通过功能的工作原理<code>column_stack</code>，<code>dstack</code>，<code>hstack</code>和<code>vstack</code>，视维在堆叠是必须要做的。例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">2</span>)                     <span class="comment"># x=([0,2,4,6,8])</span></span><br><span class="line">y = np.arange(<span class="number">5</span>)                          <span class="comment"># y=([0,1,2,3,4])</span></span><br><span class="line">m = np.vstack([x,y])                      <span class="comment"># m=([[0,2,4,6,8],</span></span><br><span class="line">                                          <span class="comment">#     [0,1,2,3,4]])</span></span><br><span class="line">xy = np.hstack([x,y])                     <span class="comment"># xy =([0,2,4,6,8,0,1,2,3,4])</span></span><br></pre></td></tr></table></figure>

<p>这些函数背后的逻辑在两个以上的维度上可能很奇怪。</p>
<p>另见</p>
<p><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/numpy_for_matlab_users.html">与 Matlab 比较</a></p>
<h3 id="直方图"><a href="#直方图" class="headerlink" title="#直方图"></a><a target="_blank" rel="noopener" href="https://www.numpy.org.cn/user/quickstart.html#%E7%9B%B4%E6%96%B9%E5%9B%BE">#</a>直方图</h3><p><code>histogram</code>应用于数组的NumPy 函数返回一对向量：数组的直方图和bin的向量。注意： <code>matplotlib</code>还有一个构建直方图的功能（<code>hist</code>在Matlab中称为），与NumPy中的直方图不同。主要区别在于<code>pylab.hist</code>自动绘制直方图，而 <code>numpy.histogram</code>只生成数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># Build a vector of 10000 normal deviates with variance 0.5^2 and mean 2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mu, sigma = <span class="number">2</span>, <span class="number">0.5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>v = np.random.normal(mu,sigma,<span class="number">10000</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># Plot a normalized histogram with 50 bins</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>plt.hist(v, bins=<span class="number">50</span>, density=<span class="number">1</span>)       <span class="comment"># matplotlib version (plot)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://www.numpy.org.cn/static/images/quickstart-2_00_00.png" alt="quickstart-2_00_00"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># Compute the histogram with numpy and then plot it</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(n, bins) = np.histogram(v, bins=<span class="number">50</span>, density=<span class="literal">True</span>)  <span class="comment"># NumPy version (no plot)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>plt.plot(<span class="number">.5</span>*(bins[<span class="number">1</span>:]+bins[:-<span class="number">1</span>]), n)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://www.numpy.org.cn/static/images/quickstart-2_01_00.png" alt="quickstart-2_01_00"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://olstussy.top">Olstussy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://olstussy.top/2023/08/02/numpy%E7%AC%94%E8%AE%B0/">https://olstussy.top/2023/08/02/numpy笔记/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://olstussy.top" target="_blank">Olstussy</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a><a class="post-meta__tags" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/Numpy/">Numpy</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/02/SQL%E7%AC%94%E8%AE%B0/" title="SQL刷题笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SQL刷题笔记</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/01/1.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86,%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/" title="AI笔记（1）：基础知识"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">AI笔记（1）：基础知识</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/08/02/2.%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" title="AI笔记（2）：神经网络基础"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-02</div><div class="title">AI笔记（2）：神经网络基础</div></div></a></div><div><a href="/2023/08/03/4.%E6%B7%B1%E5%B1%82%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" title="AI笔记（4）：深层神经网络"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-03</div><div class="title">AI笔记（4）：深层神经网络</div></div></a></div><div><a href="/2023/08/03/5.%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/" title="AI笔记（5）：神经网络应用"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-03</div><div class="title">AI笔记（5）：神经网络应用</div></div></a></div><div><a href="/2023/08/03/3.%E6%B5%85%E5%B1%82%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" title="AI笔记（3）：浅层神经网络"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-03</div><div class="title">AI笔记（3）：浅层神经网络</div></div></a></div><div><a href="/2023/08/06/cs231n(%E4%B8%80)_part1/" title="cs231n(一)_part1"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-06</div><div class="title">cs231n(一)_part1</div></div></a></div><div><a href="/2023/08/06/cs231n(%E4%B8%80)_part2/" title="cs231n(一)_part2"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-06</div><div class="title">cs231n(一)_part2</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Olstussy</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/olstussy"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">No Error No Warning !</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90"><span class="toc-number">1.1.</span> <span class="toc-text">一个例子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%88%9B%E5%BB%BA"><span class="toc-number">1.2.</span> <span class="toc-text">数组创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E6%95%B0%E7%BB%84"><span class="toc-number">1.3.</span> <span class="toc-text">打印数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.</span> <span class="toc-text">基本操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.</span> <span class="toc-text">通函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E3%80%81%E5%88%87%E7%89%87%E5%92%8C%E8%BF%AD%E4%BB%A3"><span class="toc-number">1.6.</span> <span class="toc-text">索引、切片和迭代</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%A2%E7%8A%B6%E6%93%8D%E7%BA%B5"><span class="toc-number">2.</span> <span class="toc-text">形状操纵</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E6%95%B0%E7%BB%84%E7%9A%84%E5%BD%A2%E7%8A%B6"><span class="toc-number">2.1.</span> <span class="toc-text">改变数组的形状</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E4%B8%8D%E5%90%8C%E6%95%B0%E7%BB%84%E5%A0%86%E5%8F%A0%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="toc-number">2.2.</span> <span class="toc-text">将不同数组堆叠在一起</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E6%8B%86%E5%88%86%E6%88%90%E5%87%A0%E4%B8%AA%E8%BE%83%E5%B0%8F%E7%9A%84%E6%95%B0%E7%BB%84"><span class="toc-number">2.3.</span> <span class="toc-text">将一个数组拆分成几个较小的数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E5%92%8C%E8%A7%86%E5%9B%BE"><span class="toc-number">3.</span> <span class="toc-text">拷贝和视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E4%B8%8D%E5%A4%8D%E5%88%B6"><span class="toc-number">3.1.</span> <span class="toc-text">完全不复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E6%88%96%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number">3.2.</span> <span class="toc-text">视图或浅拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">3.3.</span> <span class="toc-text">深拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E5%92%8C%E6%96%B9%E6%B3%95%E6%A6%82%E8%BF%B0"><span class="toc-number">3.4.</span> <span class="toc-text">功能和方法概述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Less-%E5%9F%BA%E7%A1%80"><span class="toc-number">4.</span> <span class="toc-text">Less 基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%EF%BC%88Broadcasting%EF%BC%89%E8%A7%84%E5%88%99"><span class="toc-number">4.1.</span> <span class="toc-text">广播（Broadcasting）规则</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95%E5%92%8C%E7%B4%A2%E5%BC%95%E6%8A%80%E5%B7%A7"><span class="toc-number">5.</span> <span class="toc-text">花式索引和索引技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E6%95%B0%E7%BB%84%E8%BF%9B%E8%A1%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">5.1.</span> <span class="toc-text">使用索引数组进行索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%B8%83%E5%B0%94%E6%95%B0%E7%BB%84%E8%BF%9B%E8%A1%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">5.2.</span> <span class="toc-text">使用布尔数组进行索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ix-%E5%87%BD%E6%95%B0"><span class="toc-number">5.3.</span> <span class="toc-text">ix_()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95"><span class="toc-number">5.4.</span> <span class="toc-text">使用字符串建立索引</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">线性代数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C"><span class="toc-number">6.1.</span> <span class="toc-text">简单数组操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%80%E5%B7%A7%E5%92%8C%E6%8F%90%E7%A4%BA"><span class="toc-number">7.</span> <span class="toc-text">技巧和提示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C%E8%87%AA%E5%8A%A8%E2%80%9D%E6%95%B4%E5%BD%A2"><span class="toc-number">7.1.</span> <span class="toc-text">“自动”整形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A2%E9%87%8F%E5%A0%86%E5%8F%A0"><span class="toc-number">7.2.</span> <span class="toc-text">矢量堆叠</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">7.3.</span> <span class="toc-text">直方图</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/20/cs231n(%E4%B8%89)/" title="cs231n(三)">cs231n(三)</a><time datetime="2023-08-20T02:10:21.000Z" title="发表于 2023-08-20 10:10:21">2023-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/20/cs231n(%E4%BA%8C)/" title="cs231n(二)">cs231n(二)</a><time datetime="2023-08-20T02:07:21.000Z" title="发表于 2023-08-20 10:07:21">2023-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/06/cs231n(%E4%B8%80)_part2/" title="cs231n(一)_part2">cs231n(一)_part2</a><time datetime="2023-08-06T05:40:21.000Z" title="发表于 2023-08-06 13:40:21">2023-08-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/06/cs231n(%E4%B8%80)_part1/" title="cs231n(一)_part1">cs231n(一)_part1</a><time datetime="2023-08-06T04:40:21.000Z" title="发表于 2023-08-06 12:40:21">2023-08-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/03/5.%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/" title="AI笔记（5）：神经网络应用">AI笔记（5）：神经网络应用</a><time datetime="2023-08-03T10:41:07.000Z" title="发表于 2023-08-03 18:41:07">2023-08-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Olstussy</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>