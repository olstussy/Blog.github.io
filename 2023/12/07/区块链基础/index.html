<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Olstussy | Olstussy</title><meta name="author" content="Olstussy"><meta name="copyright" content="Olstussy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="基本概念区块链介绍区块链是一个由多个参与方共同维护的并且持续增长的分布式数据库，通常也被称作分布式共享账本，可以促进在业务网络中记录交易和跟踪资产的过程。把多笔交易的信息以及表明该区块的信息打包放在一起，经验证后的这个包就是区块。每个区块里保存了上一个区块的hash值，使区块之间产生关系，也就是说的链了。合起来就叫区块链。 区块链的工作原理区块链中的区块根据存储内容可以划为区块头和区块体，区块头主">
<meta property="og:type" content="article">
<meta property="og:title" content="Olstussy">
<meta property="og:url" content="https://olstussy.top/2023/12/07/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Olstussy">
<meta property="og:description" content="基本概念区块链介绍区块链是一个由多个参与方共同维护的并且持续增长的分布式数据库，通常也被称作分布式共享账本，可以促进在业务网络中记录交易和跟踪资产的过程。把多笔交易的信息以及表明该区块的信息打包放在一起，经验证后的这个包就是区块。每个区块里保存了上一个区块的hash值，使区块之间产生关系，也就是说的链了。合起来就叫区块链。 区块链的工作原理区块链中的区块根据存储内容可以划为区块头和区块体，区块头主">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg">
<meta property="article:published_time" content="2023-12-07T04:01:36.109Z">
<meta property="article:modified_time" content="2023-12-07T10:09:24.671Z">
<meta property="article:author" content="Olstussy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg"><link rel="shortcut icon" href="/img/favicon-32x32-next.png"><link rel="canonical" href="https://olstussy.top/2023/12/07/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E7%A1%80/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Olstussy',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-12-07 18:09:24'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2023/08/02/n2kWORi8zyCmNXH.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Olstussy"><span class="site-name">Olstussy</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-07T04:01:36.109Z" title="发表于 2023-12-07 12:01:36">2023-12-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-07T10:09:24.671Z" title="更新于 2023-12-07 18:09:24">2023-12-07</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a><strong>基本概念</strong></h2><p><strong>区块链介绍</strong><br>区块链是一个由多个参与方共同维护的并且持续增长的分布式数据库，通常也被称作分布式共享账本，可以促进在业务网络中记录交易和跟踪资产的过程。把多笔交易的信息以及表明该区块的信息打包放在一起，经验证后的这个包就是区块。<br>每个区块里保存了上一个区块的hash值，使区块之间产生关系，也就是说的链了。合起来就叫区块链。</p>
<p><strong>区块链的工作原理</strong><br>区块链中的区块根据存储内容可以划为区块头和区块体，区块头主要存储的是上一个区块的哈希值等信息，区块体主要存储的是网络内各节点的交易账本。由此相连的区块形成了区块链的链状的数据结构和存储方式。<br><img src="https://img-blog.csdnimg.cn/20210622134453879.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzE4MTE1NTAx,size_16,color_FFFFFF,t_70#pic_center" alt="区块链的账本"></p>
<p>区块链的工作原理如下：<br>（１）客户端将发起的交易经数字签名后在网络上广播并等待确认；<br>（２）网络中节点对收到的数据记录信息进行校验，通过校验后数据记录被记录到一个区块中；<br>（３）区块链网络中的接收节点对收到区块实施特定的共识算法，区块通过共识后存储至区块链的同时生成该区块的哈希值并将其存储至下一个区块链中的区块头中。由此不断生成新的区块进而连成区块链。</p>
<p><a href>一、数字货币</a></p>
<p><a href>二、接触区块链的小故事</a></p>
<p><a href>三、区块链的起源</a></p>
<p><a href>四、比特币</a></p>
<ol>
<li><p><a href>比特币与区块链的关系</a></p>
</li>
<li><p><a href>比特币的作用机制</a></p>
</li>
</ol>
<p><a href>五、信任的建立和区块链的形象解释</a></p>
<ol>
<li><p><a href>区块链建立信任的方式</a></p>
</li>
<li><p><a href>区块链的定义</a></p>
</li>
<li><p><a href>区块链的分类</a></p>
</li>
</ol>
<p><a href>六、哈希算法</a></p>
<ol>
<li><p><a href>哈希算法的特征</a></p>
</li>
<li><p><a href>典型的哈希算法</a></p>
</li>
<li><p><a href>哈希算法在区块链中发挥着怎样的作用</a></p>
</li>
<li><p><a href>Merkle树在区块链中发挥着怎样的作用</a></p>
</li>
</ol>
<p><a href>七、 共识算法</a></p>
<ol>
<li><p><a href>共识机制</a></p>
</li>
<li><p><a href>共识算法</a></p>
</li>
<li><p><a href>比特币的共识机制——工作量证明机制</a></p>
</li>
<li><p><a href>比特币的共识机制——权益证明机制</a></p>
</li>
</ol>
<p><a href>八、挖矿</a></p>
<ol>
<li><p><a href>工作量证明</a></p>
</li>
<li><p><a href>工作量证明的过程</a></p>
</li>
</ol>
<p><a href>九、 钱包、私钥、签名与交易</a></p>
<ol>
<li><p><a href>钱包</a></p>
</li>
<li><p><a href>比特币交易</a></p>
</li>
</ol>
<p><a href>十、 冲突、双花攻击和UTXO</a></p>
<ol>
<li><p><a href>冲突</a></p>
</li>
<li><p><a href>数字货币中的双花问题</a></p>
</li>
<li><p><a href>UTXO</a></p>
</li>
</ol>
<p><a href>十一、 区块高度，51%攻击，矿池与算力</a></p>
<p>   1.<a href>区块高度</a></p>
<ol start="2">
<li><p><a href>矿池与算力</a></p>
</li>
<li><p><a href>51%攻击</a></p>
</li>
</ol>
<p>​        <a href>一个典型51%攻击案例</a></p>
<p>​        <a href>51%攻击悖论</a></p>
<p><a href>十二、 总结（基本概念）</a></p>
<h3 id="一、数字货币"><a href="#一、数字货币" class="headerlink" title="一、数字货币"></a><strong>一、数字货币</strong></h3><p>区块链确实脱胎于数字货币，它生来就是为数字货币服务的。另一方面，区块链的分布式记账机制，又依赖于数字货币的激励。可以说区块链和数字货币是一对孪生兄弟，在某中程度上互相依存。<br><strong>为什么要研究货币数字化？</strong><br>便捷；<br>去除对中心节点的依赖；</p>
<p><img src="https://img-blog.csdnimg.cn/20200927125638814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><strong>数字货币化需解决的问题（解决这些问题的钥匙是区块链）</strong><br>账户数字化；<br>签名数字化；<br>记账去中心化；<br>（中心化的意思是中心决定节点，节点必须依赖中心，节点离开了中心就无法生存。）</p>
<p><strong>本质问题（解决这些问题的强有力工具是密码学）</strong></p>
<p><img src="https://img-blog.csdnimg.cn/20200927125518877.png#pic_center" alt="在这里插入图片描述"></p>
<h3 id="二、接触区块链的小故事"><a href="#二、接触区块链的小故事" class="headerlink" title="二、接触区块链的小故事"></a><strong>二、接触区块链的小故事</strong></h3><p>有个封闭的山村叫玉石村，村民的主要工作就是挖玉石，村里的财富也是用玉石来计算，大家挖了的玉石堆放到一起，村长来清点记账。张三、李四、王五各自的财富都记录在村长的账本上，他们可以依此来换取其他的生活用品，可是村长这个人有点不厚道，记账时看到貌美的农妇多记两笔，遇到刺头就少记一笔，然后账本保管也经常出问题，有的地方受潮模糊，还有的地方被老鼠啃掉，更过分地是村长的儿子赵六还常常偷偷涂改账本，于是村民决定将不干活包吃饭还老出错的村长废除掉，那么谁来记账呢？村民们想了一个办法，每个人都带着一本账本，谁挖到玉石时自己记录的同时用村口的大喇叭通知所有人，大家都在各自的本子几下同样的内容，每个村民都保管各自的账本，以后村民直接的物品换取、交换玉石也通过这个方式记账，这样既节省了一个记账的劳力，还避免了账本受潮等问题。即使小寡妇涂改了张三的账本，但大家拿李四、王五、孙六的账本出来对比就能马上发现问题并更正。只要村民的数量足够多，即使小寡妇性能再强大也无法篡改过半人的账本。这就是<strong>去中心化的分布式记账</strong>。</p>
<p>李四提出了一个新的问题“我把已经记录的玉石拿来再记一次，财富岂不是很快翻倍再翻倍了”。村民为了解决李四的弄虚作假想了一个办法，给每块玉石都做标记，记录挖掘到的时间、地点、人物以及上一块被挖到的玉石的信息。因此每个村民的账本都记录了每块玉石的完整信息，每块玉都与上一块玉信息关联，形成一个链条。李四既无法凭空捏造，也无法更改之前的记录，这就是区块链—P2P分布式记账。</p>
<p><strong>区块链去中心化思想</strong><br>经过改革以后，玉石村的每一个村民手里都拥有一个账本，每个账本里头都记录着村民挖出玉石的信息，摒弃了以往只有村长手里唯一账本的“中心化”的记账方式，采取了人手一个账本的“去中心化”的分布式记账方式。</p>
<p><strong>区块链防篡改思想</strong><br>在每个村民的账本里头给每块玉石都做标记，记录了玉石挖掘到的时间、地点和人物，以及上一块被挖到的玉石的信息。每块玉都与上一块玉有信息关联，形成一个链条，这样谁都无法凭空捏造，也无法更改之前的记录，做到了防篡改。</p>
<p><strong>交易信息公开透明的思想</strong><br>在村民挖到玉石之后，在自己的账本记录的同时，用村口的大喇叭通知所有人，大家都在各自的本子上写下同样的内容。所有村民都拥有一份完整的玉石信息，他们可以随时翻阅自己的账本，对记录的玉石信息进行查询。</p>
<p><strong>共识的思想</strong><br>当某个村民发现有一笔玉石信息记录错误了，需要更正。这个时候需要至少51%的村民同意，才可以修改这笔记录。换句话来说，只有至少51%的村民认同这笔玉石信息，才可以把它记录在每个人的记100%账本中。这就体现出一个很简单的共识的思想。</p>
<h3 id="三、区块链的起源"><a href="#三、区块链的起源" class="headerlink" title="三、区块链的起源"></a>三、区块链的起源</h3><p><strong>密码朋克的成立</strong><br>1992年，英特尔高级科学家蒂姆·梅在自己的家中和朋友聚会。聚会上他和朋友讨论着互联网应该如何更好的保护人们的隐私。怎样保护全世界民众的隐私在互联网上不被别有用心的人利用呢？他们成立了一个小组：密码朋克。埃里克·休斯就写了个程序，可以接收加密邮件，擦除所有身份标记，并将它们发送回用户列表，当你签名后，你会得到休斯的回信。1993年，埃里克·休斯等人升级迭代了加密电子邮件系统，直接把系统改名叫“密码朋克”。</p>
<p><strong>Ecash</strong><br>大卫·乔姆发明了密码学匿名现金支付系统，Ecash。乔姆认为分布式的、真正的数字现金系统应该为人们的隐私加密。因此他的系统里的加密使用了数学编码。还有一个小特点就是支付时付款方是匿名的，但是收款方是非匿名的。</p>
<p><strong>哈希现金</strong><br>1997年，亚当贝克发明了哈希现金，用到了工作量证明系统(proof of work)。其实亚当贝克最初发明这个系统是想解决垃圾邮件的问题，也就是为了避免其他人发送包含有相同信息的邮件。它的工作量证明系统，解决了数字货币的一大难题:如何保证数字货币不被交易过很多次?这就要求计算机在获得信息之前，做一定的工作量计算来避免重复交易。</p>
<p><strong>时间戳概念</strong><br>时间戳保证了数字货币安全问题，可以保证文件的先后顺序。要求在文件创建后，不能改动。当一个虚拟货币被交易时，被盖上时间戳，它就无法篡改，在区块链系统中，每一个新区快生成时，都会被打上时间戳，最终依照区块生成时间的先后顺序相连成区块链。</p>
<p><strong>比特币诞生</strong><br>中本聪对Ecash进行了优化，综合了时间戳、工作量证明机制、非对称加密技术、UTXO的结构，最终发明了比特币。人们就把比特币的底层技术称为区块链。<br>区块链技术从诞生到现在经历了三个阶段<br>区块链1.0—–数字货币，以比特币为代表的去中心化的数字支付。<br>区块链2.0—–智能合约，以以太坊为代表的支持用户自己编写智能合约，构建去中心化的应用DAPP。<br>区块链3.0—–延伸到各个领域，也就是将区块链运用到各行业具体的场景中去。</p>
<h3 id="四、比特币"><a href="#四、比特币" class="headerlink" title="四、比特币"></a>四、比特币</h3><ol>
<li><strong>比特币与区块链的关系</strong></li>
</ol>
<p>  “对于比特币而言，区块链对于它的意义，就如同互联网对邮件的意义一样。”<br>  <img src="https://img-blog.csdnimg.cn/20200927152859691.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20200927134004971.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<ol start="2">
<li><strong>比特币的作用机制</strong><br>(1). 比特币的不依靠指定的货币发行机构，而依据特定算法，通过大量的计算产生，也就是“挖矿”。<br>(2). 总数量有限，具有极强的稀缺性，比特币的总数量在最初设定时，就被系统永久限制在2100万个。</li>
</ol>
<h3 id="五、信任的建立和区块链的形象解释"><a href="#五、信任的建立和区块链的形象解释" class="headerlink" title="五、信任的建立和区块链的形象解释"></a>五、信任的建立和区块链的形象解释</h3><ol>
<li><strong>区块链建立信任的方式</strong><br>区块链本质就是一个去中心化的分布式账本，原来需要通过银行或第三方支付才能完成的交易，现在可以通过分布式节点组成的网络来完成。<br><img src="https://img-blog.csdnimg.cn/20200927133815200.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></li>
</ol>
<p>交易的规则制定、系统治理，由各常委共同执行，同时每一个常委都拥有一个账本。每个交易信息在各个常委验证通过之后，由各个常委记入自己的账本之中，因此每个账本记录的信息都是一样的。</p>
<ol start="2">
<li><strong>区块链的定义</strong><br>(1). 狭义来讲，区块链是一种按照时间顺序，将数据区块以顺序相连的方式组合成的一种链式数据结构，并以密码学方式保证的不可篡改和不可伪造的分布式账本。<br>(2). 广义来讲，区块链是利用块链式数据结构来验证与存储数据、利用共识算法来生成和更新数据、利用密码学的方式保证数据安全、利用智能合约来编程和操作数据的一种全新的分布式基础架构与计算范式。</li>
</ol>
<p>区块链本质上是一个去中心化的分布式账本，如果说区块链就是账本，那么构成区块链的每一个区块就是账本的每一页，每增加一个区块，帐本后面就会增加一页，区块链有多长，帐本就有多厚。这个帐本存在网络中各自节点的手里，而不是统一存储在一个中心节点，并且是任何人都可以看得到的公开账本。</p>
<ol start="3">
<li><strong>区块链的分类</strong></li>
</ol>
<p>  根据节点的加入或退出是否需要批准，将区块链分为公有链、私有链、联盟链。（节点就是网络的骨干，用来验证和记录交易。通常指区块链网络中的计算机，手机、矿机、台式机和服务器等。）</p>
<p>  (1). 公开链就是公开的区块链，所有人都可以作为网络中的一个节点自由加入或退出，节点之间基于共识机制开展工作。是真正意义上完全的去中心化。</p>
<p>  (2). 私有链一般用在企业内部，系统的运作规则、节点的读取和修改权限根据企业的要求进行设定。</p>
<p>  (3). 联盟链是一种多中心化或者部分去中心化的区块链，共识机制受某些指定节点控制，一般是由若干机构联合发起，比如行业内部，它介于公有链和有链之间，兼具部分去中心化的特性。</p>
<p><strong>六、哈希算法</strong><br>        哈希加密算法，SHA256，是由美国国家安全局研发，由美国国家标准与技术研究院在2001年发布。将任何一串数据输入到SHA256将得到一个256位的Hash   值。其特点是相同的数据输入将得到相同的结果。输入数据只要稍有变化（比如数据中一个1变成了0）则将得到一个千差万别的结果，且结果无法事先预知。具体来说就是哈希算法将数据打乱、混合、压缩成一个摘要，使得数据量变小，重新创建—个叫做哈希值的指纹。</p>
<ol>
<li><strong>哈希算法的特征</strong><br>  <strong>一是单向性</strong>，哈希算法必须具备单向性；只能由输入的数据或者消息计算出一个定长的哈希值，而不能通过这个哈希值反向推算出输入的数据或者消息。</li>
</ol>
<p>  <strong>二是可以根据任意长度的消息计算出固定长度的散列；</strong>哈希算法生成的哈希值的长度必须是固定的，而且是针对任意长度的输入数据。<br>  这一性质保证了哈希算法的易用性。因为哈希算法的一个使用目的就是用最后的哈希值来代表输入数据，那么最后的哈希值很长、不固定或跟原始数据一样长，那么通过哈希值的对比来确定原始数据就跟直接校验原始数据一样费力没有区别了。最后的长度要控制在一个固定的、合适的值，才能体现出哈希值作为原数据指纹或者说摘要的特征。</p>
<p>​      <strong>三是不同的输入就有不同的输出；</strong>哈希算法被发明的目的之一就是根据此需求来的，也成为了哈希算法的一大特性。可以实现对数据完整性和一致性的判定，       只有一模一样的数据经过同一个哈希运算得到的哈希值才是一样的。无论输入数据的长度大小，都会产生定长的哈希值，这样比对结果就比较快速方便。<br>对于数据的防篡改、防缺失都是很好的校验方式。</p>
<p>​    <strong>四是算法效率高，计算哈希值的时间短。</strong>保证不管数据有多长，都能在可接受的范围内得到哈希结果。</p>
<ol start="2">
<li><strong>典型的哈希算法</strong><br>著名的是MD系列和SHA系列。SHA代表安全散列算法。是根据MD4和MD5开发的算法，由美国国家安全局发布，作为美国政府标准。<br>哈希算法运用的哈希函数是一类比较成熟的散列函数。<br>哈希算法的特征：</li>
</ol>
<p>​      可以用于“任意”长度的消息。<br>​      产生的Hash值是固定长度的。<br>​      对于任意给定的消息，容易计算消息对应的哈希值。<br>​     不能通过给定的哈希值反向推算出输入的数据或者消息。</p>
<ol start="3">
<li><strong>哈希算法在区块链中发挥着怎样的作用</strong><br>（1）必须知道区块链中哈希指针的概念<br>普通的指针只是保存结构体在内存中的位置。而哈希指针是不仅要保存结构体在内存中的位置，还要保存结构体的哈希值。<br>好处是不仅能够找到结构体的位置，还能够知道结构体是否被篡改。</li>
</ol>
<p><strong>区块链和普通链表的区别</strong><br><em>&#x2F;比特币背后的技术主要是区块链，而区块链是由一个个区块连接而成，区块链和普通链表的主要区别就在于用哈希指针代替<br>了普通的指针。普通链表如果内容发生了改变，指针不会发生改变，而区块链一旦内容发生了变化，后面区块的哈希指针都会<br>发生变化，类似于多米诺骨牌效应。&#x2F;</em></p>
<p>哈希运算能够帮助识别区块数据是否被篡改，区块链的哈希值能够唯一而精准地标识一个区块，区块链中任意节点通过简单的哈希计算都可以获得这个区块的哈希值，计算出的哈希值没有变化也就意味着区块链中的信息没有被篡改。另外，哈希运算还能够帮助把各个区块串连成区块链。<strong>每个区块都包含上一个区块的哈希值和下一个区块的值</strong>，<strong>就相当于通过上一个区块的哈希值挂钩到这一个区块，通过这一个区块的哈希值挂钩到下一个区块，就自然而然形成一个链式结构的区块链</strong>。</p>
<h3 id="4-Merkle树在区块链中发挥着怎样的作用"><a href="#4-Merkle树在区块链中发挥着怎样的作用" class="headerlink" title="4. Merkle树在区块链中发挥着怎样的作用"></a>4. Merkle树在区块链中发挥着怎样的作用</h3><p>哈希运算还能够加密交易地址。</p>
<p>什么是Merkle树呢?<br><em>&#x2F;它使用的是单向哈希。哈希树的顶部为顶部哈希，亦称根哈希或主哈希。它是通过并联两个子哈希来往树上爬直到找到。&#x2F;</em></p>
<p><strong>Merkle树的作用</strong></p>
<p>第一，可以快速定位每笔交易，由于交易在存储上是线性存储，定位到某笔交易会需要遍历，效率低时间慢，通过这样的二叉树可以快速定位到想要找的交易。<br>第二，在不需要存储整个数据的情况下，就可以简明地核实交易是否被篡改，从交易到每个二叉树的哈希值，有任何一个数字的变化都会导致根哈希的变化。同时，如果有错误，可以快速定位到错误的地方。<br><strong>Merkle树的特点</strong><br><img src="https://img-blog.csdnimg.cn/20200927165307215.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>merkle tree是一种树状结构，它具有树结构的所有特点;<br>merkle tree的叶子节点的值是数据集合的单元数据或者是单元数据的哈希值;<br>非叶子节点的值是根据它下面所有叶子节点的值，按照hash算法计算而得出的。</p>
<h3 id="七、-共识算法"><a href="#七、-共识算法" class="headerlink" title="七、 共识算法"></a>七、 共识算法</h3><p><strong>什么叫“共识”?</strong><br>所谓共识，从语文的角度进行理解，可以简单解释为，许多不同的人对同一件事情达成一样的或者至少说方向一致的看法。这个解释同样适用于比特币网络当中。</p>
<ol>
<li><strong>共识机制</strong><br> –达成共识的主体,它是当前这个区块链中的一些节点，到底哪些节点需要达成一致，</li>
</ol>
<p>  ​        也是一个需要考虑的问题。<br>    –这些节点需要对什么东西达成一致?<br>  ​        共识机制涉及了区块该如何生成以及生成之后如何选择的问题。</p>
<p>  在比特币网络中每个矿工都有权力生成新的区块，那么我们到底该选择谁的区块作为整个网络的新区块呢?这个新区块生成之后，在这条链上进行的交易能不能通过呢?</p>
<p>在日常生活中，我们可以有一个老大或者一个领导来拍板决定这些问题。但是在区块链当中，每个节点都是平等的，没有一个中心机构的存在，这时候就需要通过共识机制来达成节点间的一致。</p>
<ol start="2">
<li><strong>共识算法</strong><br>共识算法是为了达成共识所依据的一种规则，是筛选出具有代表性的节点的方法。为此，区块链设计了一定的底层算法，通过这个特定的算法来选出那个可以生成新区块的节点，同时对于每一笔在这条区块链上进行的交易是否准许完成进行了约束和规定，也就是共识算法。</li>
</ol>
<p>共识算法规定了下一个新区块由哪个矿工生成。同时在这条区块链上一笔交易要达成，需要被共识算法选出的部分节点达成一致的观点:“哦，我们觉得这笔交易可以进行！” 对一笔交易，如果利益不相干的若干个节点能够达成共识，就可以认为全网对此也能够达成共识。</p>
<p>共识算法有很多种，主要有工作量证明、权益证明、委托工作量证明、委托权益证明、实用拜占庭容错算法等，他们最终的目的是一致的，但在具体的实现过程中各具特色。</p>
<ol start="3">
<li><strong>比特币的共识机制——工作量证明机制</strong><br>工作量证明，英文全称叫proof of work，通常我们叫它POW。<br>工作量证明就是一份证明，用来确认你做过一定量的工作。怎么证明呢?通过工作结果——当用户做一定难度的工作得出一个结果时，通过展现出这个结果证明你完成了一定的工作量——也就是说POW作为一种共识机制，它是结果导向而非过程导向的。</li>
</ol>
<p><strong>原因</strong><br>实际应用中，如果我们通过监测工作的整个过程来证明工作量，这是极为低效的，为了保证一定的效率，就设计了通过验证结果的方式证明工作量的方法。</p>
<p><strong>关键特征:不对称性</strong><br>进行实际工作的用户需要付出很多的工作量才能得到一个符合已定条件的结果，但是作为验证方却可以根据用户提供的材料很容易重算这个结果，同时验证这个结果是否满足提前规定好的条件。<br>在工作量证明中，你工作的时间越长，工作时采用的设备越先进，你的工作量就越高，你收获的也会越多。</p>
<p><strong>工作量证明机制POW</strong><br>首先，生成要加入到区块链中的一笔新的交易信息，也就是新区块时必须满足的要求。然后在基于工作量证明机制构建的区块链网络中，所有节点开始不断尝试和计算，直到第一个节点找到了那个随机哈希散列的数值解，于是它就得到了生成新区块的权力。（挖矿）</p>
<p>工作量证明机制具有完全去中心化的优点。<br>工作量证明机制的缺点：造成了大量的资源浪费，达成共识所需要的周期较长。</p>
<p><img src="https://img-blog.csdnimg.cn/20201007152621253.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><strong>优点:</strong><br>1、完全去中心化，算法简单，容易实现;<br>2、节点间无需交换额外的信息即可达成共识;<br>3、破坏系统需要投入极大的成本。<br><strong>缺点:</strong><br>1、挖矿造成大量的资源消耗;<br>2、共识达成的周期较长。</p>
<ol start="4">
<li><strong>比特币的共识机制——权益证明机制</strong><br>权益证明机制（Proof of stake) ，简称PoS，也称股权证明机制，它要求各节点证明自己拥有一定数量的代币(也就是所谓的权益）来竞争下一区块的记账权。</li>
</ol>
<p>用户可以利用现实货币购买代币，并在PoS机制当中来使用代币。这样以来，用户就拥有了参与记账的机会，用户拥有的代币数量越多，获得记账权的概率就越大。</p>
<p><strong>典型应用——点点币</strong><br>采用权益证明机制，并利用币龄表示各节点的权益，但是它仍然采用PoW机制进行挖矿。币龄是持币数量和时间的乘积。各节点必须持有代币30天以上才有资格竞争下一区块的记账权。当节点签名了区块，它的币龄将清为零，必须等待至少30天才能签署下一区块。币龄在90天后自动清零。</p>
<p><strong>基本原理</strong></p>
<p>–这是点点币（PPC）的创新。没有挖矿过程，在创世区块内写明了股权分配比例，</p>
<p>  之后通过转让、交 易的方式（通常就是IPO），逐渐分散到用户手里，</p>
<p>  并通过“利息”的方式新增货币，实现对节点的奖励。以太坊是POW跟pos结合。</p>
<p>简单来说，就是一个根据用户持有货币的多少和时间（币龄），发放利息的一个制度。现实中最典型的例子就是股票，或者是银行存款。如果用户想获得更多的货币，那么就打开客户端，让它保持在线，就能通过获得“利息”获益，同时保证网络的安全。</p>
<p><strong>PoS奖励</strong><br>对于采用PoS机制的点点币，系统根据币龄分配相应的奖励。当签名了一个POS区块后，币龄就会被清空为0。每被清空365币龄，将获得0.01个币的奖励。<br>如：某用户将3000币龄用于签名区块，得到的利息为:<br>3000* 1%&#x2F;365 &#x3D; 0.082个币。</p>
<p><strong>PoS相对于PoW的优势</strong><br>1、一定程度上缩短了全网达成共识所需的时间。<br>2、各节点不需要比拼算力挖矿，不会造成过多的算力浪费。<br>3、攻击者对货币系统的攻击难度变大。</p>
<p><strong>优点：</strong></p>
<p>节能。不用挖矿，不需要大量耗费电力和能源。<br>更去中心化。首先说，去中心化是相对的。相对于比特币等PoW类型的加密货币，PoS机制的加密货币对计算机硬件基本上没有过高要求，人人可挖矿（获得利息），不用担心算力集中导致中心化的出现（单用户通过购买获得51%的货币量，成本更高），网络更加安全有保障。<br>避免紧缩。PoW机制的加密货币，因为用户丢失等各种原因，可能导致通货紧缩，但是PoS机制的加密货币按一定的年利率新增货币，可以有效避免紧缩出现，保持基本稳定。比特币之后，很多新币采用PoS机制，很多采用工作量证明机制的老币，也纷纷修改协议，“硬分叉”升级为PoS机制。<br><strong>缺点：</strong></p>
<p>纯PoS机制的加密货币，只能通过IPO的方式发行，这就导致“少数人”（通常是开发者）获得大量成本极低的加密货币，在利益面前，很难保证他们不会大量抛售。<br>PoS机制的加密货币，信用基础不够牢固。<br>为解决这个问题，很多采用PoW+PoS的双重机制，通过PoW挖矿发行加密货币，使用PoS维护网络稳定。或者采用DPoS机制，通过社区选举的方式，增强信任。</p>
<h3 id="八、挖矿"><a href="#八、挖矿" class="headerlink" title="八、挖矿"></a>八、挖矿</h3><p>比特币与支付宝、微信支付类似，比特币属于互联网支付。但微信和支付宝处理的是人民币，是政府发行的法定货币，代表民众对权力机构的信任。而比特币是去中心化的虚拟“货币”，背后完全没有机构或法律背书，完全是参与者的集体管理。</p>
<p>由于搭载在区块链平台上，运用分布式记账机制，系统中所有节点都参与记账过程，那么一笔交易产生后由哪个节点记账？如果有恶意节点想随意篡改数据获取利益该如何发现？这就引入了“工作量证明”。</p>
<p><img src="https://img-blog.csdnimg.cn/20201007142329301.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201007142403496.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><strong>工作量证明</strong><br>工作量证明（Proof-of-Work，PoW）是一种对应服务与资源滥用、或是阻断服务攻击的经济对策。一般是要求用户进行一些耗时适当的复杂运算，并且答案能被服务方快速验算，以此耗用的时间、设备与能源做为担保成本，以确保服务与资源是被真正的需求所使用。</p>
<p>简单理解就是一份证明，用来确认你做过一定量的工作。监测工作的整个过程通常是极为低效的，而通过对工作的结果进行认证来证明完成了相应的工作量，则是一种非常高效的方式。比如现实生活中的毕业证、驾驶证等，就是通过检验结果的方式所取得的证明。</p>
<p>区块链任何一个节点，如果想生成一个新的区块并写入区块链，必须解出比特币网络出的工作量证明的迷题，这个过程我们称之为“挖矿”。这道题关键的三个要素是工作量证明函数、区块、难度值。工作量证明函数是这道题的计算方法，区块决定了这道题的输入数据，难度值决定了这道题的所需要的计算量。</p>
<p>（1）工作量证明函数<br>和我们上节例子中用到的哈希函数一样，比特币系统中使用的工作量证明函数正是SHA256。</p>
<p>（2）区块<br>区块头的大小为80字节，由版本号、上一个区块的哈希值、Merkle Root Hash、区块生成时间、难度值、随机数组成，区块包含的交易列表则附加在区块头后面。</p>
<p>区块头就是用于比特币工作量证明的输入字符串。为了使区块头能体现区块所包含的所有交易，在区块的构造过程中，需要将该区块要包含的交易列表，通过Merkle Tree算法生成Merkle Root Hash，并以此作为交易列表的摘要存到区块头中。见下图：</p>
<p><img src="https://img-blog.csdnimg.cn/20200927165716859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>挖矿∶区块头中有个参数叫随机数Nonce，寻找这个随机数的过程就叫做“挖矿;<br>网络上任何一台机器只要找到合适的数字填到自己的Nonce位置，使得区块头这6个字段（80个字节）的数据的哈希值符合目标哈希值。</p>
<p>（3）难度值<br>难度值（difficulty）是矿工们在挖矿时候的重要参考指标，它决定了矿工大约需要经过多少次哈希运算才能产生一个合法的区块。比特币的区块大约每10分钟生成一个，如果要在不同的全网算力条件下，新区块的产生保持都基本这个速率，难度值必须根据全网算力的变化进行调整。</p>
<p>比特币工作量证明的达成就是矿工计算出来的区块哈希值必须小于目标值。</p>
<p>我们也可以简单理解成，比特币工作量证明的过程，就是通过不停的变换区块头（即尝试不同的nouce值）作为输入进行SHA256哈希运算，找出一个特定格式哈希值的过程（即要求有一定数量的前导0）。而要求的前导0的个数越多，代表难度越大。</p>
<p><strong>工作量证明的过程</strong><br>我们可以把比特币矿工解这道工作量证明迷题的步骤大致归纳如下：</p>
<p>–  生成Coinbase交易（这是一笔为了让矿工获得奖励及手续费的特殊交易），并与其他所有准备打包进区块的交易组成交易列表，通过Merkle Tree算法生成Merkle Root Hash。<br>–  把Merkle Root Hash及其他相关字段组装成区块头，将区块头的80字节数据（Block Header）作为工作量证明的输入。<br>–  不停的变更区块头中的随机数即nonce的数值，并对每次变更后的的区块头做双重SHA256运算（即SHA256(SHA256(Block_Header))），将结果值与当前网络的目标值做对比，如果小于目标值，则解题成功，工作量证明完成。<br>可以发现尽管挖矿设备是用来帮区块链记账的，但是它们实际所做的大部分工作是寻找正确的随机数，而与记账无关。</p>
<p>到现在，大家可能理解了区块链是如何做到去中心化的。没有中心机构的权威背书，区块链系统一方面提供报酬鼓励记账人参与记账，另一方面通过记账人之间的资源消耗竞赛来提高作假成本、确保账本真实性。记账人之间为获得比特币报酬而争夺“记账权”。</p>
<p><img src="https://img-blog.csdnimg.cn/20201007151452672.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="九、-钱包、私钥、签名与交易"><a href="#九、-钱包、私钥、签名与交易" class="headerlink" title="九、 钱包、私钥、签名与交易"></a>九、 钱包、私钥、签名与交易</h3><p>比特币的所有权是通过私钥和地址来确立的。地址类似于一个银行账户的账号，要想给一个人转比特币，只要知道他的比特币地址就可以了。私钥的作用主要是给交易来签名，用来证明这笔交易是由你发起的，别人收到这笔交易，通过验证签名就可以确认交易中涉及的资金是合法的。</p>
<p>在比特币中，公钥用于接收比特币，私钥用于生成其对应地址上支付比特币所必需的签名，以唯一确定这些比特币的所有权。具体到比特币地址的生成，其实是先产生私钥，私钥通过椭圆曲线算法这种不可逆的函数来产生公钥，公钥经过一系列不可逆的运算再来产生地址。</p>
<p>私钥持有者才是比特币的拥有者，那么私钥放在哪呢?<br>钱包是私钥的容器，是密钥的管理工具，它只包含密钥而不是确切的某一个代币。一个比特币钱包中包含一系列的密钥对，每个密钥对包括一个私钥和一个公钥。（钱包的地址类似于银行账户，私钥类似于银行卡密码）</p>
<ol>
<li><strong>钱包</strong><br>比特币钱包有很多种，有PC端的、手机端的，也有专门的硬件钱包，甚至还有用纸写上私钥的纸钱包。我们一般使用的都是软件钱包，私钥存在一个叫wallet.dat的文件中。<br>wallet.dat文件其实是用我们自己设置的密码加密过的，登录钱包软件时，需要用户输入密码来对文件进行解密得到真正的私钥，这时私钥存在钱包程序的内存中，当我们需要发起一笔交易时，钱包软件去内存中获取这一私钥来对交易进行签名操作。</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/2020100715123278.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<ol start="2">
<li><strong>比特币交易</strong><br>从一个比特币钱包向另一个中转账，每笔交易都有数字签名来保证安全。一个交易一旦发生那么就是对所有人都公开的，每个交易的历史可以最终追溯到相应的比特币最初被挖出来的那个点。用户用钱包中的私钥来签名交易，从而证明他们拥有交易的输出，也就是其中的比特币。</li>
</ol>
<p>比特币是以交易输出的形式储存在区块链中的。<br>比特币并不存在于任何地方，即使是硬盘上。持有比特币其实是拥有特定比特币的地址，但是其实所谓的币并不是直接就存在于这个地址中的，地址就相当于你的银行账户。世界上没有一个可以摸得着的实物，或者是一个数据文件，可以被叫做“比特币”的。<br>有的只是各个地址之间的转账记录，余额时增时减。所有的交易都存放在一个非常大的账本文件中，这个文件叫做“区块链”。如果想知道一个比特币地址中的余额，那么这个不是直接存放在比特币地址中的，我们需要到区块链中去计算出来。</p>
<p><img src="https://img-blog.csdnimg.cn/20200927200048267.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>第一笔矿工挖矿的收入交易通常被称为Coinbase，它没有输入，所以交易输入的哈希总是被标记为00000000…0000；其他的交易，任何一个交易输入都会唯一追溯到区块链上在本区块之前的某个交易哈希，以及索引。</p>
<p>通过交易哈希和索引，即可唯一确定一个未花费的交易输出——UTXO。这样，每一个交易输入都和之前的某个交易输出关联了起来。<br>地址是公钥的哈希。<br>当使用一个UTXO时，用户要提供这个UTXO中描述的地址对应的公钥、同时用这个公钥对应的私钥对这个交易进行签名，这样比特币的接收者才能去验证这笔交易是否有效。</p>
<h3 id="十、-冲突、双花攻击和UTXO"><a href="#十、-冲突、双花攻击和UTXO" class="headerlink" title="十、 冲突、双花攻击和UTXO"></a>十、 冲突、双花攻击和UTXO</h3><ol>
<li><strong>冲突</strong><br><strong>冲突问题的产生</strong><br>多人记账的账本不—致怎么办?<br>奖励该给谁呢?<br><strong>冲突问题的解决方案</strong><br>选择信任最长区块链</li>
</ol>
<p>我们来看看在选择信任最长区块链这条原则下，普通用户和矿工的具体行为和产生的效果是怎么样的。</p>
<p>首先，对于普通用户A来说，他并没有记账所以在他那里并没有正本的记录，那么当A需要查账时，它就需要像P2P网络的其他用户发起获取账本的请求。<br><img src="https://img-blog.csdnimg.cn/20201007143617865.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>此时可能会有多个用户BCD来响应他的请求，告知A自己所拥有的区块链的长度。A收到响应之后，只会选择那个拥有最长区块链用户的回应，从他那里获得区块链账本。</p>
<p><img src="https://img-blog.csdnimg.cn/20201007143759394.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>我们再来看看矿工的行为。由手有了奖励机制，可能会有很多个矿工同时挖矿记账以求获得奖励。如果你是一个矿工，你从P2P网络中得知当前最长的区块链长度是一千，那么你会从第一个区块开始创建区块链吗？当然不会。因为即便你以最快速度挖出了第零个区块并在其中加入一条奖励自己的交易记录，然后向全网公开，那么你所创建的区块链由于长度太短并不会得到其他用户的信任，也就相当于是作废了。所以聪明的做法是你从收到的那些还没有被记录到前一千个区块的交易记录中，选择若干交易打包形成区块，计算它的Nonce值，当然你肯定要把那笔奖励给自己的交易记录也记录进去，而且为了获得更多的奖励，你肯定会选择那些提供手续费的交易，一旦你计算出了Nonce值，你就应当立即向全网公布你挖到了第1001个区块。这样才能得到全网认可这个长度为1001的区块链，从而认可你记录在第1001个区块中那个给自己的奖励。</p>
<p>不仅你会这么做，所有其他的矿工都会这么做，他们为了获得奖励都会争着抢着想最快速度挖出第1001个区块并以最快速度向全网公布。如果你正在挖第1001个区块B，突然收到了别的矿工公布过来的信息其他矿工已经护到了第1001个区块B‘。你会怎么做呢？是继续挖第1001个区块B吗？如果你继续坚持，即便你最终挖出了这个区块B，别人可能已经在挖第1002个区块了，你的第1001个区块B就形同作废了。所以，一旦听说别人挖出了下一个区块就应该立即停止手头的工作，转而投入下一个区块的争夺之中。</p>
<p>挖矿就是一群矿工之间的竞争，他们为了获得奖励，必须让自己挖出的区块成为当前区块链的最顶端。</p>
<p><strong>多个矿工同时记账，账本不一致?</strong></p>
<p>矿工自发从已知最长区块链开始计算下一区块。<br>网络中流转的区块链绝大部分是一致的。虽然金页端存在很小部分不一致，也就是分岔。但随着时间的推移，只有最长的链也就是主链才能存活下来。<br>多个矿工同时记账，如何分配奖励?</p>
<p>赢得挖矿竞赛的矿工才能创建最长区块链的顶端区块，才会被大部分用户所认可。<br>只有一个矿工获得奖励。奖励自然而然地也就给了每一场挖矿竞赛中胜出的唯一的矿工。<br>2. <strong>数字货币中的双花问题</strong><br>什么叫双花问题？—笔钱被花费了两次甚至更多次。</p>
<p>在数字货币系统中，数字资产本质上是以互联网为基础的虚拟数字，简单来说所谓的数字资产其实就是一串字符，因此它很容易被复制或者多次发送使用，在这种情况下，如果没有中心机构的存在，人们并不能确定一笔资产是否已经被花掉，这就导致系统可能存在同一笔数字资产因不当操作被重复使用的情况。</p>
<p><strong>双花攻击的实现基础</strong></p>
<p>工作量证明需要花费较长时间<br>交易信息从创建到入账存在较长时延<br>商家可能在交易入账前交付商品<br>为了解决双花问题，我们日常的数字资产使用依赖于第三方信任机构进行。这类机构对数据进行中心化管理，由它保管交易总帐，并通过实时修改账户余额的方法来防止双重支付的出现。第三方机构的最大弊端是验证费用极高。</p>
<p>在比特币系统中是如何避免双花问题的呢?<br>矿工在生成区块的时候，会从网络上收集交易信息，交易信息中包含了付款人的私钥签名。矿工首先会验证签名是不是正确的，只有正确的签名才会被认为是付款人认可的支付。然后矿工会从以前的区块链中追溯，看看付款人这次消费的比特币是不是以前没有被消费过。然后记录下付款人可用的比特币余额。这个过程也被称为<strong>UTXO机制。</strong></p>
<ol start="3">
<li><strong>UTXO</strong><br>UTXO是Unspent Transaction Outputs的缩写，全称叫做“尚未使用的交易输出”。</li>
</ol>
<p>U代表Unspent，表示未支付的或尚未使用的，“尚未支付”指的是这个交易输出还没有出现在其它交易的输入端。<br>TX是transaction的缩写，交易是从一个比特币钱包向另一个钱包转账，是唯一可以改变比特币所有权的方式，包含了输入、数目和输出这些基本内容。<br>O是Output，是输出的意思，TXO连起来就是指交易输出。<br>比特币是以交易输出，也就是TXO的形式存在的。我们说自己有多少比特币实际上是指的我们拥有所有权的那些UTXO中所指明的比特币的数量。所以可以说并没有比特币，只有UTXO。Alice有10个比特币，本质上是当前区块链账本中，有若干笔交易的UTXO项收款人写的是Alice的地址，而这些UTXO项的数额总和是10。</p>
<p><strong>比特币的分布式区块链账本</strong><br>比特币的分布式区块链账本，由一笔一笔的交易形成的，每一笔交易都要花费一笔输入，产生一笔输出，而其所产生的输出，就是“未花费过的交易输出”，也就是UTXO。这些交易构成了一组链式结构，所有合法的比特币交易都可以追溯到前一个或多个交易的输出，链条的源头就是挖矿奖励，末尾则是当前未花费的交易输出。</p>
<p><strong>比特币交易规则</strong></p>
<p>–  除了coinbase交易之外，所有的资金来源都必须来自前面某一个或者几个交易的 UTXO。<br>–  任何一笔交易的交易输入总量必须等于交易输出总量，等式两边必须配平。</p>
<p><img src="https://img-blog.csdnimg.cn/20200928161010363.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>当然，UTXO技术也并非100%保证基于区块链的交易中杜绝双花问题。51%攻击，又被称为Majority attack，这种攻击是通过控制网络算力实现双花。</p>
<h3 id="十一、-区块高度，51-攻击，矿池与算力"><a href="#十一、-区块高度，51-攻击，矿池与算力" class="headerlink" title="十一、 区块高度，51%攻击，矿池与算力"></a><strong>十一、 区块高度，51%攻击，矿池与算力</strong></h3><p><strong>1.区块高度</strong><br><strong>区块</strong><br>区块是一种被包含在公开账簿里的聚合了交易信息的容器数据结构，这个公开账簿就是区块链。它是构成区块链的基本单元，由包含元数据的区块头和包含交易数据的区块主体构成。</p>
<p>那么这个区块生成之后要怎么跟原先的区块链接起来呢?<br>区块头主要由三组数据组成，第一组是父区块的哈希值，父哈希值用来将该区块与它的前一区块相连接；第二组数据和矿工竞争挖矿有关，即难度、时间戳和Nonce(随机数）；第三组是由刚才我们讲到的区块体中计算出来的根哈希值，即默克尔树根。<br><img src="https://img-blog.csdnimg.cn/20200928162426382.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>这时区块头发挥作用，区块头中包含了三组元数据，其中第一组就是上一个区块的哈希值。也就是说，第二个区块的父哈希为第一个区块的哈希，第三个区块的父哈希为第二个区块的哈希，通过这种方式，就把一个个区块链接起来了，形成了一个前向的链表。</p>
<p>区块高度是用来标识一个区块在区块链中位置的一个概念。</p>
<ol start="2">
<li><strong>矿池与算力</strong><br>算力也叫哈希率，是用来衡量进行哈希运算的能力的指标，或者说进行一次哈希计算所需要使用的时间。如果说网络达到了10T哈希每秒的哈希率时，就意味着它可以每秒进行10万亿次哈希运算。</li>
</ol>
<p>区块链网络中每个矿工都有资格生成区块，因此为了决定下一个区块由谁生成，需要通过—定的方法来决定。</p>
<p>在<strong>PoW机制</strong>中，所有节点通过随机的尝试和计算，直到有一个节点找到那个随机哈希散列的数值解，成为有资格生成新区块的主体。</p>
<p>哈希碰撞：解出随机哈希值不断尝试的过程。<br>一个挖矿机每秒钟能做这种碰撞的次数，代表其算力。矿工进行挖矿所使用的机器越先进，算力就会越高。</p>
<p><strong>区块链转账的基本原理</strong><br>整个区块链网络之所以能运行，靠的就是整个网络的“矿工”，因为他们通过算力解答加密难题，从而挖出新的区块。挖出区块后，他们就有权力将转账信息放入到区块中，然后完成这笔转账，这就是区块链转账的基本原理。</p>
<p>中本聪一开始就定义了比特币总量为2100万个，并且加密数学题的难度也越来越大。正所谓众人拾柴火焰高，越来越多的人把自己的矿机拿出来，组成了“挖矿小分队”，这类组织就被称为“矿池”。</p>
<ol start="3">
<li><strong>51%攻击</strong><br>51%攻击出现的<strong>根本原因</strong>：在整个网络中，有人的算力超过了全网的50%，那么在他的控制算力的这段时间，可以将区块逆转，进行反向交易，实现双花。</li>
</ol>
<p>尽管51%的攻击不会产生新币或直接导致区块链崩溃，但对参与者对加密货币的信心会产生严重影响。</p>
<p>什么时候会出现51%攻击的问题呢?由于某个矿池的算力过大。<br>例子：Alice一个矿工掌握了全网50%以上算力的可能性微乎其微，但由于现在生产新区块越来越困难，出现了矿工间合作组成矿池，汇聚数以千计参与者们的算力，一起参与挖矿并分享奖励的行为。在这种情况下，一旦某个矿池汇集了过多的矿工，其算力超过了全网的50%，这时就出现了51%攻击的风险，也对矿工的道德提出了要求。</p>
<p><strong>一个典型51%攻击案例</strong><br>Alice 和 Bob之间使用比特币完成了一杯咖啡的交易，因为是小额交易，Bob在收到Alice的转账通知(不是交易确认的通知，只是表面发起了交易)就给Alice提供了咖啡。</p>
<p>正常情况下，这笔交易会马上被放入交易池等待挖矿节点把自己加入一个新的区块并开始努力”挖矿”。</p>
<p>假设Alice就是那个大boss，拥有网络51%的算力，他真的不愿意为这笔咖啡付钱(有钱人也可能很小气)，于是他开始攻击了。</p>
<p>网络上很多节点都收到了这笔交易并加入区块准备运算了，Alice也同样开始贡献算力，但是在开始之前他把区块里的这笔交易改了，本来这是一笔Alice付款给Bob的交易，被改成Alice转给自己的一笔交易了(更改很容易，只要把接收地址和签名改掉即可)。</p>
<p>Alice开始尝试用这个伪区块进行计算(计算正确后这个区块会被加入主链中)，因为拥有51%的算力，Alice比别的节点更容易优先计算成功，导致一个伪造的区块加入了主链。现在网络中有两个区块链:</p>
<p><img src="https://img-blog.csdnimg.cn/20200928172949695.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>其中一个是原来的主链，另一个是比主链高出一个区块的伪造链。</p>
<p>按照最长区块链原则，更高的这个链就代替了原有的链成为后面的主链。这笔伪造的交易就被所有节点认可成为了”真实的交易”。</p>
<p>这是Bob就会一直收不到钱，但是咖啡已经给出去了。</p>
<p>攻击结果： 由于撤销了所有对外付款交易，等于收回来已花掉的比特币。</p>
<p><strong>51%攻击悖论</strong><br>虽然看起来51%攻击非常恐怖，不过这通常仅存在于理论情况下。因为如果你想做到，首先需要足够的钱去掌控全网51%的算力，这将是非常大的一笔投资。其次在攻击后，币种价格会受到影响，你要卖出非常多的币才能达到收支平衡。这就是51%攻击悖论。</p>
<h3 id="十二、-总结（基本概念）"><a href="#十二、-总结（基本概念）" class="headerlink" title="十二、 总结（基本概念）"></a>十二、 总结（基本概念）</h3><p>比特币系统<br>比特币系统相当于一个去中心化大账本，每个区块就是账本中的一页。系统自动生成比特币作为奖励激励矿工参与记账，每十分钟全体矿工一起计算一道问题，最先算出答案的矿工获得记一页帐的权利。记账完成后，他将自动获得一定量的比特币。这就是比特币的发行过程。</p>
<p>矿工<br>矿工就是指参与比特币挖矿的个体，也就是说，每一个致力于生产新区块的比特币节点的主人，就是一个矿工，是一切行为的操作者，也就是比特币网络参与的主体。</p>
<p>矿池<br>矿池的概念是在矿工的基础上延伸出来的。随着参与挖矿的矿工越来越多，一个个体矿工要想挖到矿，得到生成新区块的权力的可能性越来越低，所以一些矿工集合起来，集合各自的算力，提高挖到矿的可能性。这种矿工的集合体就是矿池。</p>
<p>公钥、私钥<br>公钥和私钥是一组配合使用的概念，他们之间有着紧密的联系。简单来说，私钥是系统随机生成的，公钥是由私钥计算得出的;公钥负责加密，私钥负责解密;私钥负责签名，公钥负责验证。在两者的配合使用之下，矿工才能完成比特币的交易。</p>
<p>钱包<br>比特币钱包，就是用来装密钥的容器，它只包含密钥而不包括具体的多少个比特币。具体来说，钱包里面存放了一系列的密钥，每一密钥对应着一个私钥和由这个私钥生成的公钥，用于完成这个钱包主人可能要进行的比特币交易。钱包还有一个地址，这个地址就相当于你支付宝的账号一样，你要提供自己的账号，才能向外转账或者给自己充值。</p>
<p>交易<br>这里提到的交易，就是利用矿工掌握的私钥，把比特币从—个地址转到另一个地址的行为。我们所说的比特币，其实就是一系列交易输出的集合，我们说自己有多少比特币实际上是指的我们拥有所有权的那些UTXO中所指明的比特币的数量。</p>
<p>区块<br>区块是构成区块链的基本单元，在区块链中，每隔一段时间就会形成一个新的区块，矿工们就是在通过挖矿争夺生成新区块的权力。每一个区块由区块头和区块主体构成。在区块头中包含了前一个区块的哈希信息，可以帮助新区块和之前的区块联系起来;而区块主体则包含了这一段时间内所有的交易信息。<br><img src="https://img-blog.csdnimg.cn/20200928135046327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDAyOTU1MA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><strong>算力</strong><br>算力，是用来衡量进行哈希运算的能力的指标，它可以用每秒完成哈希碰撞次数来衡量。算力越强，挖到下一个新区块的可能性也相应的越大。</p>
<p><strong>技术概念</strong></p>
<ol>
<li>哈希算法</li>
<li>共识算法</li>
<li>UTXO</li>
</ol>
<h2 id="基本概念汇总"><a href="#基本概念汇总" class="headerlink" title="基本概念汇总"></a>基本概念汇总</h2><p><strong>区块链技术平台</strong><br>区块链发展至今 己经 出 现了许多 区块链技术平台 ， 比如 比特币 （Bitcoin） 、 以 太坊（Ethereum） 、 和超级账本（Hyperledger Fabric）等</p>
<p>比特币<br>比特币是最早全球使用最广泛的区块链技术，具有最去中心化、最多分布节点、最公平等特点。比特币提出了一个无需信用中介的数字货币系统，通过数字签名使得在线支付能够直接由一方发起并支付给另外一方，中间不需要通过任何的金融机构，并提出了一种通过工作量证明的机制的点对点网络来记录交易的公开信息，该网络通过随机散列对全部交易加上时间戳，将它们合并入一个不断延伸的基于随机散列的工作量证明的链条作为交易记录，形成的交易记录不可更改。每个节点都不需要明确自己的身份，可以随时离开或加入网络。比特币发展至今强有力的证明了区块链技术在数字货币领域的应用完全是有意义且有价值的，而比特币只是区块链应用的一个方向且不具有图灵完备的编程语言平台，也没有为用户提供开展宽阔的分布式账本系统应用。</p>
<p>以太坊<br>以太坊是一个通用的数字代币平台，它通过一套图灵完备的脚本语言建立应用并采用多种编程语言实现协议，通过Go语言编写的客户端作为默认客户端。以太坊的关键是智能合约，可比喻为以太坊系统里的自动代理人。存在单独的以太币地址从而实现以太坊用户之间的交易渠道，当以太坊用户进行交易是，设置好的智能合约将会被触发并且向用户返回该合约的结果。用户之间的交易除了以太币之外通常会包含一些附带的消息。开发人员可通过智能合约和易于交互的页面来开发广泛的DApp应用。</p>
<p>超级账本<br>超级账本（Hyperledger）是Linux基金会的区块链项目，致力于发展跨行业的商用区块链平台技术。它基于区块链技术、智能合约等相关技术，致力于建立新一代的分布式账本交易应用平台，在简化业务流程的同时，建立起商业信任、透明、审查能力。Hyperledger Fabric是一个带有可插入各种功能模块架构的区块链实施方案，目标是打造成一个由全社会共同维护的开源超级账本。用户可通过该平台方便快捷的地建立起一个企业级的区块链网络。网络内的账本对所有用户都是透明公开的，用户不仅可以查看和发起交易，还可读取实施更新的加密账本。用户发起交易一旦经过共识流程的验证，它就会立即加入到网络中所有的账本中，且不能更改，交易结果迅速、私有、保密且易于审计。<br>三个平台的对比如下表：</p>
<p><img src="C:/Users/12805/AppData/Roaming/Typora/typora-user-images/image-20231207113307417.png" alt="image-20231207113307417"></p>
<p>区块链的四大特征<br>不可篡改，不可复制的唯一性，智能合约，去中心自组织或社区化</p>
<p>不可篡改性<br>一旦信息经过验证并添加至区块链，就会永久的存储起来，除非能够同时控制住系统中超过51%的节点，否则单个节点上对数据库的修改是无效的，因此区块链的数据稳定性和可靠性极高。</p>
<p>唯一性<br>在数字世界中，最基本单元是比特，比特的根本特性是可复制。但是价值不能被复制，价值必须是唯一的。之前我们已经讨论过，这正是矛盾所在：在数字世界中，我们很难让一个文件是唯一的，至少很难普遍地做到这一点。这是现在我们需要中心化的账本来记录价值的原因。比特币系统带来的区块链技术可以说第一次把“唯一性”普遍地带入了数字世界。</p>
<p>智能合约<br>智能合约的出现使得基于区块链的两个人不只是可以进行简单的价值转移，而可以设定复杂的规则，由智能合约自动、自治地执行，这极大地扩展了区块链的应用可能性。<br>当前把焦点放在通证的创新性应用上的项目，在软件层面都是通过编写智能合约来实现的。利用智能合约，我们可以进行复杂的数字资产交易。</p>
<p>去中心自组织<br>由于使用分布式核算和存储，不存在中心化的硬件或管理机构，任意节点的权利和义务都是均等的，系统中的数据块由整个系统中具有维护功能的节点来共同维护。任一节点停止工作都会不影响系统整体的运作。区块链采用基于协商一致的规范和协议,使得整个系统中的所有节点能够在去信任的环境自由安全的交换数据，使得对“人”的信任改成了对机器的信任，任何人为的干预不起作用。</p>
<p>区块链的核心基本技术<br>目前业界学者所达成共识的区块链平台技术架构模型如图所示：<br><img src="https://img-blog.csdnimg.cn/20210622143354863.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzE4MTE1NTAx,size_16,color_FFFFFF,t_70#pic_center" alt="区块链分层架构模型"></p>
<p>其中，最下面的数据层使用Hash函数、时间戳、加密签名技术封装交易数据区块，使用链式结构记录全部的交易信息和节点账户，并且基于Merkel树结构用于快速校验数据完整性；网络层包含节点的网络结构（如P2P网络）、交易数据的消息广播机制和验证方案；共识层主要包含用于区块链应用中各个节点对交易数据达成共同认识的各种共识算法，包括但不限于PoW、PoS、DPoS、PoA等；激励层的作用是对那些在区块共识过程中做出积极贡献的节点发放设定好数量的奖励，通过这种机制调动节点参与共识过程的积极性，主要包含激励的发行机制和分配机制；合约层主要提供相关代码、智能合约等相关接口供开发人员调用，为区块链应用提供编程的特性；应用层则面向普通用户提供相关应用程序，包含了区块链技术可能适用的落地场景。</p>
<p>共识机制<br>常用的共识机制主要有 PoW、PoS、DPoS、PBFT、Paxos等。由于区块链系统中没有一个中心，因此需要有一个预设的规则来指导各方节点在数据处理上达成一致，所有的数据交互都要按照严格的规则和共识进行；</p>
<p>PoW<br>proof of work，也就是工作量证明。比特币挖矿就是pow机制。原理就是计算机通过变量（nonce）变化，不断的计算产生一串串数字，直到某一串数字满足指定的难度要求，才停止这次计算。这串数字就是新生成区块的hash值。<br>PoS<br>proof of stake,也就是权益证明机制。pos机制直接与持有的代币数量和持币时间挂钩。这种模式会根据你持有数字货币的量和时间，分配给你相应的利息。权益证明机制的原理是：要求用户证明自己拥有一定数量的数字货币的所有权，即“权益”。<br>DPoS<br>DPoS 算法的目的是为了解决 PoW 算法的性能问题和 PoS 算法后期可能出现的少数节点持有大量股份带来的风险问题。在 DPoS 算法中，保留了 PoS 的股份机制，采用了类似于现代企业中董事会投票机制的方式，节点用持有的股份投票选出少量称为见证人的节点，这些见证人节点会代理其余节点完成区块的生成和验证。通过减少对确认数量的要求，DPoS 算法大大提高了交易的速度。<br>PBFT<br>PBFT（实用拜占庭容错）算法是一种用于网络中存在拜占庭节点的容错技术，它能够在n个节点的网络中允许最多存在(n−1&#x2F;3)的恶意节点，当网络中恶意节点的比例超过(n−1&#x2F;3)时，则在共识过程中的任何操作都可能引起系统错误甚至崩溃。<br>Paxos<br>Paxos算法解决的问题正是分布式一致性问题，即一个分布式系统中的各个进程如何就某个值（决议）达成一致。Paxos算法运行在允许宕机故障的异步系统中，不要求可靠的消息传递，可容忍消息丢失、延迟、乱序以及重复。它利用大多数 (Majority) 机制保证了2F+1的容错能力，即2F+1个节点的系统最多允许F个节点同时出现故障。<br>密码学技术<br>密码学技术是区块链的核心技术之一，目前的区块链应用中采用了很多现代密码学的经典算法，主要包括：哈希算法、对称加密、非对称加密、数字签名等。</p>
<p>哈希算法<br>Hash函数(HashFunctions)是密码学领域里非常重要的研究内容，主要用于对数据完整性提供重要的保证，具有逆向抗性、压缩易计算、抗修改、抗碰撞的特性。Hash函数将输入的明文数据通过计算转换得到一个长度固定的输出数据，该输出数据称为哈希值或者消息摘要。发送消息数据时，数据的发送方会将明文消息数据和该消息摘要一起发送给数据接收方。接收方收到明文数据后，采用同样的Hash函数计算明文数据的消息摘要，并将计算得到的消息摘要同接收到的该明文数据的摘要进行比对，以此检测明文数据在传输过程中的完整性和准确性。<br>非对称加密<br>对称加密：加密解密用的同一个密钥；<br>非对称加密：加密和解密分别使用公钥和私钥。<br>用公钥对数据进行加密后，只有对应的私钥才能解密；反之如果私钥用于加密，则只有对应的公钥才能解密。这样可以保证通信双方是通信数据是私密的，并且能确认双方的身份。<br>数字签名<br>在区块链应用中，为了保证区块内交易数据的正确性，必须要对交易产生的数据进行校验，以确保数据在交易双方的传输过程中是完整且未被更改过。而数字签名这一技术就是为了能保证数据消息的确是由交易发起者签名并发送的，从而达到上述目的。<br>分布式技术<br>点多点（P2P）网络<br>P2P网络是Peer-to-PeerNetwork的简称，是一种网络拓扑结构，特点是去中心化和扁平化。相对于传统的C&#x2F;S（客户端&#x2F;服务端）结构，P2P网络不需要第三方中心服务器的存在，网络中的各节点既能从其余节点获取资源与服务，也能提供资源和服务给其余节点。由于区块链最主要的特性就是去中心化，这就使得区块链底层的网络结构只能遵循P2P网络技术进行实现。</p>
<p>分布式存储<br>区块链是一种点对点网络上的分布账本，每个参与的节点都将独立完整地存储写入区块数据信息。传统的分布式存储是一个中心化的机构在很多地方做了数据备份，在区块链里是通过链中的各个节点开放的存储空间来建立整个区块链里的分布式数据库。区块链里的分布式存储可以提高网络的运行效率，解决了传统分布式存储中服务器处理速度的瓶颈。</p>
<p>智能合约<br>智能合约允许在没有第三方的情况下进行可信交易，只要一方达成了协议预先设定的目标，合约将会自动执行交易，这些交易可追踪且不可逆转。具有透明可信、自动执行、强制履约的优点。</p>
<p>区块链技术应用<br>信息防伪溯源<br>如农产品的供应链是一个非常复杂的过程，涉及多方，农业局、卫生局、药监局、工商局、环保局等多个部门交织其中。我们为每个环节的参与者分配一个以太坊账号，例如每个供应商一个账号，每个代理商一个账号。这样任何一方经手后都会使用自己的账号想合约中添加数据。<br>数字货币<br>…</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://olstussy.top">Olstussy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://olstussy.top/2023/12/07/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E7%A1%80/">https://olstussy.top/2023/12/07/区块链基础/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://olstussy.top" target="_blank">Olstussy</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2023/11/24/Kripe%20Structure/" title="Kripe结构"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Kripe结构</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/08/02/UOWRIZPuaAX81yL.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Olstussy</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/olstussy"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">No Error No Warning !</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E5%AD%97%E8%B4%A7%E5%B8%81"><span class="toc-number">1.1.</span> <span class="toc-text">一、数字货币</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%8E%A5%E8%A7%A6%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E5%B0%8F%E6%95%85%E4%BA%8B"><span class="toc-number">1.2.</span> <span class="toc-text">二、接触区块链的小故事</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E8%B5%B7%E6%BA%90"><span class="toc-number">1.3.</span> <span class="toc-text">三、区块链的起源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%AF%94%E7%89%B9%E5%B8%81"><span class="toc-number">1.4.</span> <span class="toc-text">四、比特币</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%BF%A1%E4%BB%BB%E7%9A%84%E5%BB%BA%E7%AB%8B%E5%92%8C%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E5%BD%A2%E8%B1%A1%E8%A7%A3%E9%87%8A"><span class="toc-number">1.5.</span> <span class="toc-text">五、信任的建立和区块链的形象解释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Merkle%E6%A0%91%E5%9C%A8%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%AD%E5%8F%91%E6%8C%A5%E7%9D%80%E6%80%8E%E6%A0%B7%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.6.</span> <span class="toc-text">4. Merkle树在区块链中发挥着怎样的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83%E3%80%81-%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95"><span class="toc-number">1.7.</span> <span class="toc-text">七、 共识算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%8C%96%E7%9F%BF"><span class="toc-number">1.8.</span> <span class="toc-text">八、挖矿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%9D%E3%80%81-%E9%92%B1%E5%8C%85%E3%80%81%E7%A7%81%E9%92%A5%E3%80%81%E7%AD%BE%E5%90%8D%E4%B8%8E%E4%BA%A4%E6%98%93"><span class="toc-number">1.9.</span> <span class="toc-text">九、 钱包、私钥、签名与交易</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E3%80%81-%E5%86%B2%E7%AA%81%E3%80%81%E5%8F%8C%E8%8A%B1%E6%94%BB%E5%87%BB%E5%92%8CUTXO"><span class="toc-number">1.10.</span> <span class="toc-text">十、 冲突、双花攻击和UTXO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81-%E5%8C%BA%E5%9D%97%E9%AB%98%E5%BA%A6%EF%BC%8C51-%E6%94%BB%E5%87%BB%EF%BC%8C%E7%9F%BF%E6%B1%A0%E4%B8%8E%E7%AE%97%E5%8A%9B"><span class="toc-number">1.11.</span> <span class="toc-text">十一、 区块高度，51%攻击，矿池与算力</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81-%E6%80%BB%E7%BB%93%EF%BC%88%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%89"><span class="toc-number">1.12.</span> <span class="toc-text">十二、 总结（基本概念）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E6%B1%87%E6%80%BB"><span class="toc-number">2.</span> <span class="toc-text">基本概念汇总</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/07/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9F%BA%E7%A1%80/" title="无题">无题</a><time datetime="2023-12-07T04:01:36.109Z" title="发表于 2023-12-07 12:01:36">2023-12-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/24/Kripe%20Structure/" title="Kripe结构">Kripe结构</a><time datetime="2023-11-24T08:32:21.000Z" title="发表于 2023-11-24 16:32:21">2023-11-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/24/%E6%95%B0%E7%90%86%E9%80%BB%E8%BE%91%E5%9F%BA%E7%A1%80/" title="数理逻辑基础">数理逻辑基础</a><time datetime="2023-11-24T08:32:21.000Z" title="发表于 2023-11-24 16:32:21">2023-11-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/10/%E8%AE%BA%E6%96%87%E6%80%BB%E7%BB%93/" title="AI经典论文综述">AI经典论文综述</a><time datetime="2023-09-10T04:40:21.000Z" title="发表于 2023-09-10 12:40:21">2023-09-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/10/%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(1-7%E7%AB%A0)/" title="统计学习笔记(1-7章)">统计学习笔记(1-7章)</a><time datetime="2023-09-10T02:36:21.000Z" title="发表于 2023-09-10 10:36:21">2023-09-10</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Olstussy</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>